{"version":3,"sources":["../lib.js","../schema.js","../../../.nvm/versions/node/v14.4.0/lib/node_modules/parcel-bundler/node_modules/events/events.js","../model.js","../collection.js","../controller.js","../view.js","../bipartite.js","demo.js","../../../.nvm/versions/node/v14.4.0/lib/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["idVar","module","exports","clone","obj","JSON","parse","stringify","id","objectTypeValidate","type","Array","isArray","update","obj1","obj2","compareRecursive","key","Object","keys","length","remove","compare","updated","removed","added","diff","filter","x","includes","invDiff","removeRecursive","prune","schema","output","option","defaultData","default","String","Number","Boolean","query","result","o","q","fn","require","pruneobj","R","Reflect","ReflectApply","apply","target","receiver","args","Function","prototype","call","ReflectOwnKeys","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","concat","ProcessEmitWarning","warning","console","warn","NumberIsNaN","isNaN","value","EventEmitter","init","once","_events","undefined","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","defineProperty","enumerable","get","set","arg","RangeError","getPrototypeOf","create","setMaxListeners","n","_getMaxListeners","that","getMaxListeners","emit","i","arguments","push","doError","events","error","er","Error","err","message","context","handler","len","listeners","arrayClone","_addListener","prepend","m","existing","newListener","unshift","warned","w","name","emitter","count","addListener","on","prependListener","onceWrapper","fired","removeListener","wrapFn","_onceWrap","state","wrapped","bind","prependOnceListener","list","position","originalListener","shift","spliceOne","off","removeAllListeners","_listeners","unwrap","evlistener","unwrapListeners","rawListeners","listenerCount","eventNames","arr","copy","index","pop","ret","Promise","resolve","reject","eventListener","errorListener","slice","model","event","change","_id","addObj","previousObj","removeObj","log","collection","data","url","self","updateEvent","removeEvent","destroyEvent","loadEvent","saveEvent","detachEvent","updateObj","detach","map","controller","views","constructor","view_push","add","destroy","destroyCollection","load","save","propsUpdate","view","splice","indexOf","changedata","el","querySelectorAll","props","view_collection","attributes","bi","addView","listen","removeView","prop","split","p","viewUpdate","getAttribute","tagName","innerHTML","checkAndUpdate","end","addEventListener","mvc","schemaObj","fruit","place","defaulPlace","truthy","untruthy","recursive","recursivething","recursivestr","wrongplace","obj3","modelObj2","modelObj3","modelController","collectionObj","controller2","detachQuery","findAndDetach","more","thing","otherthing","newthing","window","document","getElementById","elForm","view2","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","stack","overlay","createErrorOverlay","body","appendChild","createElement","stackTrace","innerText","getParents","modules","parents","k","d","dep","deps","cached","cache","some","cb"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAIA,KAAK,GAAG,CAAC,CAAb;AAEAC,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,KAAK,EAAE,eAASC,GAAT,EAAc;AACnBA,IAAAA,GAAG,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeH,GAAf,CAAX,CAAN;AACA,WAAOA,GAAP;AACD,GAJc;AAKfI,EAAAA,EAAE,EAAE,cAAW;AACbR,IAAAA,KAAK;AACL,WAAOA,KAAP;AACD,GARc;AASfS,EAAAA,kBAAkB,EAAE,4BAASL,GAAT,EAAcM,IAAd,EAAoB;AACtC,YAAQA,IAAR;AACE,WAAK,OAAL;AACE,YAAIC,KAAK,CAACC,OAAN,CAAcR,GAAd,CAAJ,EAAwB,CAAE,CAA1B,MAAgC;AAC9B,cAAI,CAACA,GAAL,EAAU;AACRA,YAAAA,GAAG,GAAG,EAAN;AACD,WAFD,MAEO;AACLA,YAAAA,GAAG,GAAG,CAACA,GAAD,CAAN;AACD;AACF;;AACD;;AACF,WAAK,QAAL;AACE,YAAI,QAAOA,GAAP,MAAe,QAAf,IAA2BA,GAAG,KAAK,IAAnC,IAA2C,CAACO,KAAK,CAACC,OAAN,CAAcR,GAAd,CAAhD,EAAoE,CAAE,CAAtE,MAA4E;AAC1EA,UAAAA,GAAG,GAAG,EAAN;AACD;;AACD;AAdJ;;AAgBA,WAAOA,GAAP;AACD,GA3Bc;AA4BfS,EAAAA,MAAM,EAAE,gBAASC,IAAT,EAAeC,IAAf,EAAqB;AAC3BD,IAAAA,IAAI,GAAG,KAAKX,KAAL,CAAWW,IAAX,CAAP;AACAC,IAAAA,IAAI,GAAG,KAAKZ,KAAL,CAAWY,IAAX,CAAP;;AACA,QAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAASF,IAAT,EAAeC,IAAf,EAAqB;AAC5C,WAAK,IAAIE,GAAT,IAAgBF,IAAhB,EAAsB;AACpB,YAAI,QAAOA,IAAI,CAACE,GAAD,CAAX,MAAqB,QAArB,IAAiCC,MAAM,CAACC,IAAP,CAAYJ,IAAI,CAACE,GAAD,CAAhB,EAAuBG,MAAvB,GAAgC,CAArE,EAAwE;AACtE,cAAG,CAACN,IAAI,CAACG,GAAD,CAAR,EAAc;AACZH,YAAAA,IAAI,CAACG,GAAD,CAAJ,GAAU,EAAV;AACD;;AACDD,UAAAA,gBAAgB,CAACF,IAAI,CAACG,GAAD,CAAL,EAAYF,IAAI,CAACE,GAAD,CAAhB,CAAhB;AACD,SALD,MAKO,IAAIF,IAAI,CAACE,GAAD,CAAR,EAAe;AACpBH,UAAAA,IAAI,CAACG,GAAD,CAAJ,GAAYF,IAAI,CAACE,GAAD,CAAhB;AACD;AACF;AACF,KAXD;;AAYAD,IAAAA,gBAAgB,CAACF,IAAD,EAAOC,IAAP,CAAhB;AACA,WAAOD,IAAP;AACD,GA7Cc;AA8CfO,EAAAA,MAAM,EAAE,gBAASP,IAAT,EAAeC,IAAf,EAAqB;AAC3BD,IAAAA,IAAI,GAAG,KAAKX,KAAL,CAAWW,IAAX,CAAP;AACAC,IAAAA,IAAI,GAAG,KAAKZ,KAAL,CAAWY,IAAX,CAAP;;AACA,QAAMC,gBAAgB,GAAG,SAAnBA,gBAAmB,CAASF,IAAT,EAAeC,IAAf,EAAqB;AAC5C,WAAK,IAAIE,GAAT,IAAgBF,IAAhB,EAAsB;AACpB,YAAIA,IAAI,CAACE,GAAD,CAAJ,KAAc,KAAlB,EAAyB;AACvB,iBAAOH,IAAI,CAACG,GAAD,CAAX;AACD,SAFD,MAEO,IAAI,QAAOF,IAAI,CAACE,GAAD,CAAX,MAAqB,QAArB,IAAiCC,MAAM,CAACC,IAAP,CAAYJ,IAAI,CAACE,GAAD,CAAhB,EAAuBG,MAAvB,GAAgC,CAArE,EAAwE;AAC7EJ,UAAAA,gBAAgB,CAACF,IAAI,CAACG,GAAD,CAAL,EAAYF,IAAI,CAACE,GAAD,CAAhB,CAAhB;AACD;AACF;AACF,KARD;;AASAD,IAAAA,gBAAgB,CAACF,IAAD,EAAOC,IAAP,CAAhB;AACA,WAAOD,IAAP;AACD,GA5Dc;AA6DfQ,EAAAA,OAAO,EAAE,iBAASR,IAAT,EAAeC,IAAf,EAAqB;AAC5B;AACAD,IAAAA,IAAI,GAAG,KAAKX,KAAL,CAAWW,IAAX,CAAP;AACAC,IAAAA,IAAI,GAAG,KAAKZ,KAAL,CAAWY,IAAX,CAAP;AACA,QAAIX,GAAG,GAAG;AACRmB,MAAAA,OAAO,EAAE,EADD;AAERC,MAAAA,OAAO,EAAE,EAFD;AAGRC,MAAAA,KAAK,EAAE;AAHC,KAAV;;AAKA,QAAMT,gBAAgB,GAAG,SAAnBA,gBAAmB,CAASF,IAAT,EAAeC,IAAf,EAAqBQ,OAArB,EAA8BC,OAA9B,EAAuCC,KAAvC,EAA8C;AAAA,iCAC5DR,GAD4D;AAEnE,YAAIN,KAAK,CAACC,OAAN,CAAcE,IAAI,CAACG,GAAD,CAAlB,CAAJ,EAA8B;AAC5B,cAAIS,IAAI,GAAGX,IAAI,CAACE,GAAD,CAAJ,CAAUU,MAAV,CAAiB,UAAAC,CAAC;AAAA,mBAAI,CAACd,IAAI,CAACG,GAAD,CAAJ,CAAUY,QAAV,CAAmBD,CAAnB,CAAL;AAAA,WAAlB,CAAX;AACA,cAAIE,OAAO,GAAGhB,IAAI,CAACG,GAAD,CAAJ,CAAUU,MAAV,CAAiB,UAAAC,CAAC;AAAA,mBAAI,CAACb,IAAI,CAACE,GAAD,CAAJ,CAAUY,QAAV,CAAmBD,CAAnB,CAAL;AAAA,WAAlB,CAAd;;AACA,cAAIF,IAAI,CAACN,MAAL,GAAc,CAAd,IAAmBU,OAAO,GAAG,CAAjC,EAAoC;AAClCL,YAAAA,KAAK,CAACR,GAAD,CAAL,GAAaS,IAAb;AACAF,YAAAA,OAAO,CAACP,GAAD,CAAP,GAAea,OAAf;AACAP,YAAAA,OAAO,CAACN,GAAD,CAAP,GAAeF,IAAI,CAACE,GAAD,CAAnB;AACD;AACF,SARD,MAQO;AACL,cAAIF,IAAI,CAACE,GAAD,CAAJ,KAAcH,IAAI,CAACG,GAAD,CAAtB,EAA6B,CAAE,CAA/B,MAAqC,IAAI,QAAOH,IAAI,CAACG,GAAD,CAAX,MAAqB,QAArB,IAAiCH,IAAI,CAACG,GAAD,CAAJ,KAAc,IAA/C,IAAuDC,MAAM,CAACC,IAAP,CAAYL,IAAI,CAACG,GAAD,CAAhB,EAAuBG,MAAvB,GAAgC,CAA3F,EAA8F;AACjI,gBAAI,CAACG,OAAO,CAACN,GAAD,CAAZ,EAAmB;AACjBM,cAAAA,OAAO,CAACN,GAAD,CAAP,GAAe,EAAf;AACD;;AACD,gBAAI,CAACO,OAAO,CAACP,GAAD,CAAZ,EAAmB;AACjBO,cAAAA,OAAO,CAACP,GAAD,CAAP,GAAe,EAAf;AACD;;AACD,gBAAI,CAACQ,KAAK,CAACR,GAAD,CAAV,EAAiB;AACfQ,cAAAA,KAAK,CAACR,GAAD,CAAL,GAAa,EAAb;AACD;;AACDD,YAAAA,gBAAgB,CAACF,IAAI,CAACG,GAAD,CAAL,EAAYF,IAAI,CAACE,GAAD,CAAhB,EAAuBM,OAAO,CAACN,GAAD,CAA9B,EAAqCO,OAAO,CAACP,GAAD,CAA5C,EAAmDQ,KAAK,CAACR,GAAD,CAAxD,CAAhB;AACD,WAXoC,MAW9B,IAAIH,IAAI,CAACG,GAAD,CAAR,EAAe;AACpBM,YAAAA,OAAO,CAACN,GAAD,CAAP,GAAeF,IAAI,CAACE,GAAD,CAAnB;AACAO,YAAAA,OAAO,CAACP,GAAD,CAAP,GAAeH,IAAI,CAACG,GAAD,CAAnB,CAFoB,CAGpB;AACD,WAJM,MAIA;AACLM,YAAAA,OAAO,CAACN,GAAD,CAAP,GAAeF,IAAI,CAACE,GAAD,CAAnB;AACAQ,YAAAA,KAAK,CAACR,GAAD,CAAL,GAAaF,IAAI,CAACE,GAAD,CAAjB;AACD;AACF;AA9BkE;;AACrE,WAAK,IAAIA,GAAT,IAAgBF,IAAhB,EAAsB;AAAA,cAAbE,GAAa;AA8BrB;AACF,KAhCD;;AAiCA,QAAMc,eAAe,GAAG,SAAlBA,eAAkB,CAAUjB,IAAV,EAAgBC,IAAhB,EAAsBS,OAAtB,EAA8B;AACpD,WAAK,IAAIP,GAAT,IAAgBH,IAAhB,EAAsB;AACpB,YAAG,CAACC,IAAI,CAACE,GAAD,CAAR,EAAc;AACZO,UAAAA,OAAO,CAACP,GAAD,CAAP,GAAeH,IAAI,CAACG,GAAD,CAAnB;AACD,SAFD,MAEO,IAAI,QAAOH,IAAI,CAACG,GAAD,CAAX,MAAqB,QAArB,IAAiCH,IAAI,CAACG,GAAD,CAAJ,KAAc,IAA/C,IAAuDC,MAAM,CAACC,IAAP,CAAYL,IAAI,CAACG,GAAD,CAAhB,EAAuBG,MAAvB,GAAgC,CAA3F,EAA8F;AACnGW,UAAAA,eAAe,CAACjB,IAAI,CAACG,GAAD,CAAL,EAAYF,IAAI,CAACE,GAAD,CAAhB,EAAuBO,OAAO,CAACP,GAAD,CAA9B,CAAf;AACD;AACF;AACF,KARD;;AASAD,IAAAA,gBAAgB,CAACF,IAAD,EAAOC,IAAP,EAAaX,GAAG,CAACmB,OAAjB,EAA0BnB,GAAG,CAACoB,OAA9B,EAAuCpB,GAAG,CAACqB,KAA3C,CAAhB;AACAM,IAAAA,eAAe,CAACjB,IAAD,EAAOC,IAAP,EAAaX,GAAG,CAACoB,OAAjB,CAAf;AACA,WAAOpB,GAAP;AACD,GAnHc;AAoHf4B,EAAAA,KAAK,EAAE,eAAS5B,GAAT,EAAc6B,MAAd,EAAsB;AAC3B,QAAIC,MAAM,GAAG,EAAb;;AACA,QAAMlB,gBAAgB,GAAG,SAAnBA,gBAAmB,CAASZ,GAAT,EAAc6B,MAAd,EAAsBC,MAAtB,EAA8B;AACrD,WAAK,IAAIjB,GAAT,IAAgBgB,MAAhB,EAAwB;AACtB,YAAIE,MAAM,GAAGF,MAAM,CAAChB,GAAD,CAAnB;AACA,YAAImB,WAAW,GAAG,EAAlB;;AACA,YAAIH,MAAM,CAAChB,GAAD,CAAN,CAAYP,IAAZ,IAAoBuB,MAAM,CAAChB,GAAD,CAAN,CAAYoB,OAApC,EAA6C;AAC3CF,UAAAA,MAAM,GAAGF,MAAM,CAAChB,GAAD,CAAN,CAAYP,IAArB;;AACA,cAAIuB,MAAM,CAAChB,GAAD,CAAN,CAAYoB,OAAhB,EAAyB;AACvBD,YAAAA,WAAW,GAAGH,MAAM,CAAChB,GAAD,CAAN,CAAYoB,OAA1B;AACD;AACF;;AACD,YAAIjC,GAAG,IAAI,QAAO+B,MAAP,MAAkB,QAAzB,IAAqC/B,GAAG,CAACa,GAAD,CAAH,KAAa,IAAlD,IAA0DC,MAAM,CAACC,IAAP,CAAYf,GAAZ,EAAiBgB,MAAjB,GAA0B,CAAxF,EAA2F;AACzFc,UAAAA,MAAM,CAACjB,GAAD,CAAN,GAAc,EAAd;AACAD,UAAAA,gBAAgB,CAACZ,GAAG,CAACa,GAAD,CAAJ,EAAWgB,MAAM,CAAChB,GAAD,CAAjB,EAAwBiB,MAAM,CAACjB,GAAD,CAA9B,CAAhB;AACD;;AACD,YAAImB,WAAW,IAAI,CAAChC,GAAG,CAACa,GAAD,CAAvB,EAA8B;AAC5BiB,UAAAA,MAAM,CAACjB,GAAD,CAAN,GAAcmB,WAAd;AACD,SAFD,MAEO,IAAIhC,GAAJ,EAAS;AACd,kBAAQ+B,MAAR;AACE,iBAAKG,MAAL;AACE;AACA,kBAAI,OAAOlC,GAAG,CAACa,GAAD,CAAV,KAAoB,QAAxB,EAAkC;AAChCiB,gBAAAA,MAAM,CAACjB,GAAD,CAAN,GAAcb,GAAG,CAACa,GAAD,CAAjB;AACD;;AACD;;AACF,iBAAKsB,MAAL;AACE,kBAAI,OAAOnC,GAAG,CAACa,GAAD,CAAV,KAAoB,QAAxB,EAAkC;AAChCiB,gBAAAA,MAAM,CAACjB,GAAD,CAAN,GAAcb,GAAG,CAACa,GAAD,CAAjB;AACD;;AACD;;AACF,iBAAKuB,OAAL;AACE,kBAAI,OAAOpC,GAAG,CAACa,GAAD,CAAV,KAAoB,SAAxB,EAAmC;AACjCiB,gBAAAA,MAAM,CAACjB,GAAD,CAAN,GAAcb,GAAG,CAACa,GAAD,CAAjB;AACD;;AACD;;AACF,iBAAKN,KAAL;AACE,kBAAIA,KAAK,CAACC,OAAN,CAAcR,GAAG,CAACa,GAAD,CAAjB,CAAJ,EAA6B;AAC3BiB,gBAAAA,MAAM,CAACjB,GAAD,CAAN,GAAcb,GAAG,CAACa,GAAD,CAAjB;AACD;;AACD;AArBJ;AAuBD;AACF;AACF,KA1CD;;AA2CAD,IAAAA,gBAAgB,CAACZ,GAAD,EAAM6B,MAAN,EAAcC,MAAd,CAAhB;AACA,WAAOA,MAAP;AACD,GAnKc;AAoKfO,EAAAA,KAAK,EAAE,eAASrC,GAAT,EAAcqC,MAAd,EAAqB;AAC1B,QAAIC,MAAM,GAAG,IAAb;;AACA,QAAM1B,gBAAgB,GAAG,SAAnBA,gBAAmB,CAAS2B,CAAT,EAAYC,CAAZ,EAAe;AACtC,WAAK,IAAI3B,GAAT,IAAgB2B,CAAhB,EAAmB;AACjB,YAAI,QAAOA,CAAC,CAAC3B,GAAD,CAAR,MAAkB,QAAlB,IAA8BC,MAAM,CAACC,IAAP,CAAYyB,CAAC,CAAC3B,GAAD,CAAb,EAAoBG,MAApB,GAA6B,CAA/D,EAAkE;AAChEJ,UAAAA,gBAAgB,CAAC2B,CAAC,CAAC1B,GAAD,CAAF,EAAS2B,CAAC,CAAC3B,GAAD,CAAV,CAAhB;AACD,SAFD,MAEO,IAAI0B,CAAC,CAAC1B,GAAD,CAAD,KAAW2B,CAAC,CAAC3B,GAAD,CAAhB,EAAuB;AAC5ByB,UAAAA,MAAM,GAAG,KAAT;AACD;AACF;AACF,KARD;;AASA1B,IAAAA,gBAAgB,CAACZ,GAAD,EAAMqC,MAAN,CAAhB;AACA,WAAOC,MAAP;AACD;AAjLc,CAAjB;;;;;;;;ACFA,IAAMG,EAAE,GAAGC,OAAO,CAAC,UAAD,CAAlB;;IAEMb;AACJ,kBAAY7B,GAAZ,EAAiB;AAAA;;AACf,SAAKA,GAAL,GAAWA,GAAX;AACD;;;;WACD,eAAM2C,QAAN,EAAgB;AACd,aAAOF,EAAE,CAACb,KAAH,CAASe,QAAT,EAAmB,KAAK3C,GAAxB,CAAP;AACD;;;;;;AAGHH,MAAM,CAACC,OAAP,GAAiB+B,MAAjB;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AAEA,IAAIe,CAAC,GAAG,OAAOC,OAAP,KAAmB,QAAnB,GAA8BA,OAA9B,GAAwC,IAAhD;AACA,IAAIC,YAAY,GAAGF,CAAC,IAAI,OAAOA,CAAC,CAACG,KAAT,KAAmB,UAAxB,GACfH,CAAC,CAACG,KADa,GAEf,SAASD,YAAT,CAAsBE,MAAtB,EAA8BC,QAA9B,EAAwCC,IAAxC,EAA8C;AAC9C,SAAOC,QAAQ,CAACC,SAAT,CAAmBL,KAAnB,CAAyBM,IAAzB,CAA8BL,MAA9B,EAAsCC,QAAtC,EAAgDC,IAAhD,CAAP;AACD,CAJH;AAMA,IAAII,cAAJ;;AACA,IAAIV,CAAC,IAAI,OAAOA,CAAC,CAACW,OAAT,KAAqB,UAA9B,EAA0C;AACxCD,EAAAA,cAAc,GAAGV,CAAC,CAACW,OAAnB;AACD,CAFD,MAEO,IAAIzC,MAAM,CAAC0C,qBAAX,EAAkC;AACvCF,EAAAA,cAAc,GAAG,SAASA,cAAT,CAAwBN,MAAxB,EAAgC;AAC/C,WAAOlC,MAAM,CAAC2C,mBAAP,CAA2BT,MAA3B,EACJU,MADI,CACG5C,MAAM,CAAC0C,qBAAP,CAA6BR,MAA7B,CADH,CAAP;AAED,GAHD;AAID,CALM,MAKA;AACLM,EAAAA,cAAc,GAAG,SAASA,cAAT,CAAwBN,MAAxB,EAAgC;AAC/C,WAAOlC,MAAM,CAAC2C,mBAAP,CAA2BT,MAA3B,CAAP;AACD,GAFD;AAGD;;AAED,SAASW,kBAAT,CAA4BC,OAA5B,EAAqC;AACnC,MAAIC,OAAO,IAAIA,OAAO,CAACC,IAAvB,EAA6BD,OAAO,CAACC,IAAR,CAAaF,OAAb;AAC9B;;AAED,IAAIG,WAAW,GAAG5B,MAAM,CAAC6B,KAAP,IAAgB,SAASD,WAAT,CAAqBE,KAArB,EAA4B;AAC5D,SAAOA,KAAK,KAAKA,KAAjB;AACD,CAFD;;AAIA,SAASC,YAAT,GAAwB;AACtBA,EAAAA,YAAY,CAACC,IAAb,CAAkBd,IAAlB,CAAuB,IAAvB;AACD;;AACDxD,MAAM,CAACC,OAAP,GAAiBoE,YAAjB;AACArE,MAAM,CAACC,OAAP,CAAesE,IAAf,GAAsBA,IAAtB,EAEA;;AACAF,YAAY,CAACA,YAAb,GAA4BA,YAA5B;AAEAA,YAAY,CAACd,SAAb,CAAuBiB,OAAvB,GAAiCC,SAAjC;AACAJ,YAAY,CAACd,SAAb,CAAuBmB,YAAvB,GAAsC,CAAtC;AACAL,YAAY,CAACd,SAAb,CAAuBoB,aAAvB,GAAuCF,SAAvC,EAEA;AACA;;AACA,IAAIG,mBAAmB,GAAG,EAA1B;;AAEA,SAASC,aAAT,CAAuBC,QAAvB,EAAiC;AAC/B,MAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;AAClC,UAAM,IAAIC,SAAJ,CAAc,qEAAqE,OAAOD,QAA1F,CAAN;AACD;AACF;;AAED7D,MAAM,CAAC+D,cAAP,CAAsBX,YAAtB,EAAoC,qBAApC,EAA2D;AACzDY,EAAAA,UAAU,EAAE,IAD6C;AAEzDC,EAAAA,GAAG,EAAE,YAAW;AACd,WAAON,mBAAP;AACD,GAJwD;AAKzDO,EAAAA,GAAG,EAAE,UAASC,GAAT,EAAc;AACjB,QAAI,OAAOA,GAAP,KAAe,QAAf,IAA2BA,GAAG,GAAG,CAAjC,IAAsClB,WAAW,CAACkB,GAAD,CAArD,EAA4D;AAC1D,YAAM,IAAIC,UAAJ,CAAe,oGAAoGD,GAApG,GAA0G,GAAzH,CAAN;AACD;;AACDR,IAAAA,mBAAmB,GAAGQ,GAAtB;AACD;AAVwD,CAA3D;;AAaAf,YAAY,CAACC,IAAb,GAAoB,YAAW;AAE7B,MAAI,KAAKE,OAAL,KAAiBC,SAAjB,IACA,KAAKD,OAAL,KAAiBvD,MAAM,CAACqE,cAAP,CAAsB,IAAtB,EAA4Bd,OADjD,EAC0D;AACxD,SAAKA,OAAL,GAAevD,MAAM,CAACsE,MAAP,CAAc,IAAd,CAAf;AACA,SAAKb,YAAL,GAAoB,CAApB;AACD;;AAED,OAAKC,aAAL,GAAqB,KAAKA,aAAL,IAAsBF,SAA3C;AACD,CATD,EAWA;AACA;;;AACAJ,YAAY,CAACd,SAAb,CAAuBiC,eAAvB,GAAyC,SAASA,eAAT,CAAyBC,CAAzB,EAA4B;AACnE,MAAI,OAAOA,CAAP,KAAa,QAAb,IAAyBA,CAAC,GAAG,CAA7B,IAAkCvB,WAAW,CAACuB,CAAD,CAAjD,EAAsD;AACpD,UAAM,IAAIJ,UAAJ,CAAe,kFAAkFI,CAAlF,GAAsF,GAArG,CAAN;AACD;;AACD,OAAKd,aAAL,GAAqBc,CAArB;AACA,SAAO,IAAP;AACD,CAND;;AAQA,SAASC,gBAAT,CAA0BC,IAA1B,EAAgC;AAC9B,MAAIA,IAAI,CAAChB,aAAL,KAAuBF,SAA3B,EACE,OAAOJ,YAAY,CAACO,mBAApB;AACF,SAAOe,IAAI,CAAChB,aAAZ;AACD;;AAEDN,YAAY,CAACd,SAAb,CAAuBqC,eAAvB,GAAyC,SAASA,eAAT,GAA2B;AAClE,SAAOF,gBAAgB,CAAC,IAAD,CAAvB;AACD,CAFD;;AAIArB,YAAY,CAACd,SAAb,CAAuBsC,IAAvB,GAA8B,SAASA,IAAT,CAAcpF,IAAd,EAAoB;AAChD,MAAI4C,IAAI,GAAG,EAAX;;AACA,OAAK,IAAIyC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGC,SAAS,CAAC5E,MAA9B,EAAsC2E,CAAC,EAAvC,EAA2CzC,IAAI,CAAC2C,IAAL,CAAUD,SAAS,CAACD,CAAD,CAAnB;;AAC3C,MAAIG,OAAO,GAAIxF,IAAI,KAAK,OAAxB;AAEA,MAAIyF,MAAM,GAAG,KAAK1B,OAAlB;AACA,MAAI0B,MAAM,KAAKzB,SAAf,EACEwB,OAAO,GAAIA,OAAO,IAAIC,MAAM,CAACC,KAAP,KAAiB1B,SAAvC,CADF,KAEK,IAAI,CAACwB,OAAL,EACH,OAAO,KAAP,CAT8C,CAWhD;;AACA,MAAIA,OAAJ,EAAa;AACX,QAAIG,EAAJ;AACA,QAAI/C,IAAI,CAAClC,MAAL,GAAc,CAAlB,EACEiF,EAAE,GAAG/C,IAAI,CAAC,CAAD,CAAT;;AACF,QAAI+C,EAAE,YAAYC,KAAlB,EAAyB;AACvB;AACA;AACA,YAAMD,EAAN,CAHuB,CAGb;AACX,KARU,CASX;;;AACA,QAAIE,GAAG,GAAG,IAAID,KAAJ,CAAU,sBAAsBD,EAAE,GAAG,OAAOA,EAAE,CAACG,OAAV,GAAoB,GAAvB,GAA6B,EAArD,CAAV,CAAV;AACAD,IAAAA,GAAG,CAACE,OAAJ,GAAcJ,EAAd;AACA,UAAME,GAAN,CAZW,CAYA;AACZ;;AAED,MAAIG,OAAO,GAAGP,MAAM,CAACzF,IAAD,CAApB;AAEA,MAAIgG,OAAO,KAAKhC,SAAhB,EACE,OAAO,KAAP;;AAEF,MAAI,OAAOgC,OAAP,KAAmB,UAAvB,EAAmC;AACjCxD,IAAAA,YAAY,CAACwD,OAAD,EAAU,IAAV,EAAgBpD,IAAhB,CAAZ;AACD,GAFD,MAEO;AACL,QAAIqD,GAAG,GAAGD,OAAO,CAACtF,MAAlB;AACA,QAAIwF,SAAS,GAAGC,UAAU,CAACH,OAAD,EAAUC,GAAV,CAA1B;;AACA,SAAK,IAAIZ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGY,GAApB,EAAyB,EAAEZ,CAA3B,EACE7C,YAAY,CAAC0D,SAAS,CAACb,CAAD,CAAV,EAAe,IAAf,EAAqBzC,IAArB,CAAZ;AACH;;AAED,SAAO,IAAP;AACD,CA1CD;;AA4CA,SAASwD,YAAT,CAAsB1D,MAAtB,EAA8B1C,IAA9B,EAAoCqE,QAApC,EAA8CgC,OAA9C,EAAuD;AACrD,MAAIC,CAAJ;AACA,MAAIb,MAAJ;AACA,MAAIc,QAAJ;AAEAnC,EAAAA,aAAa,CAACC,QAAD,CAAb;AAEAoB,EAAAA,MAAM,GAAG/C,MAAM,CAACqB,OAAhB;;AACA,MAAI0B,MAAM,KAAKzB,SAAf,EAA0B;AACxByB,IAAAA,MAAM,GAAG/C,MAAM,CAACqB,OAAP,GAAiBvD,MAAM,CAACsE,MAAP,CAAc,IAAd,CAA1B;AACApC,IAAAA,MAAM,CAACuB,YAAP,GAAsB,CAAtB;AACD,GAHD,MAGO;AACL;AACA;AACA,QAAIwB,MAAM,CAACe,WAAP,KAAuBxC,SAA3B,EAAsC;AACpCtB,MAAAA,MAAM,CAAC0C,IAAP,CAAY,aAAZ,EAA2BpF,IAA3B,EACYqE,QAAQ,CAACA,QAAT,GAAoBA,QAAQ,CAACA,QAA7B,GAAwCA,QADpD,EADoC,CAIpC;AACA;;AACAoB,MAAAA,MAAM,GAAG/C,MAAM,CAACqB,OAAhB;AACD;;AACDwC,IAAAA,QAAQ,GAAGd,MAAM,CAACzF,IAAD,CAAjB;AACD;;AAED,MAAIuG,QAAQ,KAAKvC,SAAjB,EAA4B;AAC1B;AACAuC,IAAAA,QAAQ,GAAGd,MAAM,CAACzF,IAAD,CAAN,GAAeqE,QAA1B;AACA,MAAE3B,MAAM,CAACuB,YAAT;AACD,GAJD,MAIO;AACL,QAAI,OAAOsC,QAAP,KAAoB,UAAxB,EAAoC;AAClC;AACAA,MAAAA,QAAQ,GAAGd,MAAM,CAACzF,IAAD,CAAN,GACTqG,OAAO,GAAG,CAAChC,QAAD,EAAWkC,QAAX,CAAH,GAA0B,CAACA,QAAD,EAAWlC,QAAX,CADnC,CAFkC,CAIlC;AACD,KALD,MAKO,IAAIgC,OAAJ,EAAa;AAClBE,MAAAA,QAAQ,CAACE,OAAT,CAAiBpC,QAAjB;AACD,KAFM,MAEA;AACLkC,MAAAA,QAAQ,CAAChB,IAAT,CAAclB,QAAd;AACD,KAVI,CAYL;;;AACAiC,IAAAA,CAAC,GAAGrB,gBAAgB,CAACvC,MAAD,CAApB;;AACA,QAAI4D,CAAC,GAAG,CAAJ,IAASC,QAAQ,CAAC7F,MAAT,GAAkB4F,CAA3B,IAAgC,CAACC,QAAQ,CAACG,MAA9C,EAAsD;AACpDH,MAAAA,QAAQ,CAACG,MAAT,GAAkB,IAAlB,CADoD,CAEpD;AACA;;AACA,UAAIC,CAAC,GAAG,IAAIf,KAAJ,CAAU,iDACEW,QAAQ,CAAC7F,MADX,GACoB,GADpB,GAC0BkB,MAAM,CAAC5B,IAAD,CADhC,GACyC,aADzC,GAEE,0CAFF,GAGE,gBAHZ,CAAR;AAIA2G,MAAAA,CAAC,CAACC,IAAF,GAAS,6BAAT;AACAD,MAAAA,CAAC,CAACE,OAAF,GAAYnE,MAAZ;AACAiE,MAAAA,CAAC,CAAC3G,IAAF,GAASA,IAAT;AACA2G,MAAAA,CAAC,CAACG,KAAF,GAAUP,QAAQ,CAAC7F,MAAnB;AACA2C,MAAAA,kBAAkB,CAACsD,CAAD,CAAlB;AACD;AACF;;AAED,SAAOjE,MAAP;AACD;;AAEDkB,YAAY,CAACd,SAAb,CAAuBiE,WAAvB,GAAqC,SAASA,WAAT,CAAqB/G,IAArB,EAA2BqE,QAA3B,EAAqC;AACxE,SAAO+B,YAAY,CAAC,IAAD,EAAOpG,IAAP,EAAaqE,QAAb,EAAuB,KAAvB,CAAnB;AACD,CAFD;;AAIAT,YAAY,CAACd,SAAb,CAAuBkE,EAAvB,GAA4BpD,YAAY,CAACd,SAAb,CAAuBiE,WAAnD;;AAEAnD,YAAY,CAACd,SAAb,CAAuBmE,eAAvB,GACI,SAASA,eAAT,CAAyBjH,IAAzB,EAA+BqE,QAA/B,EAAyC;AACvC,SAAO+B,YAAY,CAAC,IAAD,EAAOpG,IAAP,EAAaqE,QAAb,EAAuB,IAAvB,CAAnB;AACD,CAHL;;AAKA,SAAS6C,WAAT,GAAuB;AACrB,MAAI,CAAC,KAAKC,KAAV,EAAiB;AACf,SAAKzE,MAAL,CAAY0E,cAAZ,CAA2B,KAAKpH,IAAhC,EAAsC,KAAKqH,MAA3C;AACA,SAAKF,KAAL,GAAa,IAAb;AACA,QAAI7B,SAAS,CAAC5E,MAAV,KAAqB,CAAzB,EACE,OAAO,KAAK2D,QAAL,CAActB,IAAd,CAAmB,KAAKL,MAAxB,CAAP;AACF,WAAO,KAAK2B,QAAL,CAAc5B,KAAd,CAAoB,KAAKC,MAAzB,EAAiC4C,SAAjC,CAAP;AACD;AACF;;AAED,SAASgC,SAAT,CAAmB5E,MAAnB,EAA2B1C,IAA3B,EAAiCqE,QAAjC,EAA2C;AACzC,MAAIkD,KAAK,GAAG;AAAEJ,IAAAA,KAAK,EAAE,KAAT;AAAgBE,IAAAA,MAAM,EAAErD,SAAxB;AAAmCtB,IAAAA,MAAM,EAAEA,MAA3C;AAAmD1C,IAAAA,IAAI,EAAEA,IAAzD;AAA+DqE,IAAAA,QAAQ,EAAEA;AAAzE,GAAZ;AACA,MAAImD,OAAO,GAAGN,WAAW,CAACO,IAAZ,CAAiBF,KAAjB,CAAd;AACAC,EAAAA,OAAO,CAACnD,QAAR,GAAmBA,QAAnB;AACAkD,EAAAA,KAAK,CAACF,MAAN,GAAeG,OAAf;AACA,SAAOA,OAAP;AACD;;AAED5D,YAAY,CAACd,SAAb,CAAuBgB,IAAvB,GAA8B,SAASA,IAAT,CAAc9D,IAAd,EAAoBqE,QAApB,EAA8B;AAC1DD,EAAAA,aAAa,CAACC,QAAD,CAAb;AACA,OAAK2C,EAAL,CAAQhH,IAAR,EAAcsH,SAAS,CAAC,IAAD,EAAOtH,IAAP,EAAaqE,QAAb,CAAvB;AACA,SAAO,IAAP;AACD,CAJD;;AAMAT,YAAY,CAACd,SAAb,CAAuB4E,mBAAvB,GACI,SAASA,mBAAT,CAA6B1H,IAA7B,EAAmCqE,QAAnC,EAA6C;AAC3CD,EAAAA,aAAa,CAACC,QAAD,CAAb;AACA,OAAK4C,eAAL,CAAqBjH,IAArB,EAA2BsH,SAAS,CAAC,IAAD,EAAOtH,IAAP,EAAaqE,QAAb,CAApC;AACA,SAAO,IAAP;AACD,CALL,EAOA;;;AACAT,YAAY,CAACd,SAAb,CAAuBsE,cAAvB,GACI,SAASA,cAAT,CAAwBpH,IAAxB,EAA8BqE,QAA9B,EAAwC;AACtC,MAAIsD,IAAJ,EAAUlC,MAAV,EAAkBmC,QAAlB,EAA4BvC,CAA5B,EAA+BwC,gBAA/B;AAEAzD,EAAAA,aAAa,CAACC,QAAD,CAAb;AAEAoB,EAAAA,MAAM,GAAG,KAAK1B,OAAd;AACA,MAAI0B,MAAM,KAAKzB,SAAf,EACE,OAAO,IAAP;AAEF2D,EAAAA,IAAI,GAAGlC,MAAM,CAACzF,IAAD,CAAb;AACA,MAAI2H,IAAI,KAAK3D,SAAb,EACE,OAAO,IAAP;;AAEF,MAAI2D,IAAI,KAAKtD,QAAT,IAAqBsD,IAAI,CAACtD,QAAL,KAAkBA,QAA3C,EAAqD;AACnD,QAAI,EAAE,KAAKJ,YAAP,KAAwB,CAA5B,EACE,KAAKF,OAAL,GAAevD,MAAM,CAACsE,MAAP,CAAc,IAAd,CAAf,CADF,KAEK;AACH,aAAOW,MAAM,CAACzF,IAAD,CAAb;AACA,UAAIyF,MAAM,CAAC2B,cAAX,EACE,KAAKhC,IAAL,CAAU,gBAAV,EAA4BpF,IAA5B,EAAkC2H,IAAI,CAACtD,QAAL,IAAiBA,QAAnD;AACH;AACF,GARD,MAQO,IAAI,OAAOsD,IAAP,KAAgB,UAApB,EAAgC;AACrCC,IAAAA,QAAQ,GAAG,CAAC,CAAZ;;AAEA,SAAKvC,CAAC,GAAGsC,IAAI,CAACjH,MAAL,GAAc,CAAvB,EAA0B2E,CAAC,IAAI,CAA/B,EAAkCA,CAAC,EAAnC,EAAuC;AACrC,UAAIsC,IAAI,CAACtC,CAAD,CAAJ,KAAYhB,QAAZ,IAAwBsD,IAAI,CAACtC,CAAD,CAAJ,CAAQhB,QAAR,KAAqBA,QAAjD,EAA2D;AACzDwD,QAAAA,gBAAgB,GAAGF,IAAI,CAACtC,CAAD,CAAJ,CAAQhB,QAA3B;AACAuD,QAAAA,QAAQ,GAAGvC,CAAX;AACA;AACD;AACF;;AAED,QAAIuC,QAAQ,GAAG,CAAf,EACE,OAAO,IAAP;AAEF,QAAIA,QAAQ,KAAK,CAAjB,EACED,IAAI,CAACG,KAAL,GADF,KAEK;AACHC,MAAAA,SAAS,CAACJ,IAAD,EAAOC,QAAP,CAAT;AACD;AAED,QAAID,IAAI,CAACjH,MAAL,KAAgB,CAApB,EACE+E,MAAM,CAACzF,IAAD,CAAN,GAAe2H,IAAI,CAAC,CAAD,CAAnB;AAEF,QAAIlC,MAAM,CAAC2B,cAAP,KAA0BpD,SAA9B,EACE,KAAKoB,IAAL,CAAU,gBAAV,EAA4BpF,IAA5B,EAAkC6H,gBAAgB,IAAIxD,QAAtD;AACH;;AAED,SAAO,IAAP;AACD,CAlDL;;AAoDAT,YAAY,CAACd,SAAb,CAAuBkF,GAAvB,GAA6BpE,YAAY,CAACd,SAAb,CAAuBsE,cAApD;;AAEAxD,YAAY,CAACd,SAAb,CAAuBmF,kBAAvB,GACI,SAASA,kBAAT,CAA4BjI,IAA5B,EAAkC;AAChC,MAAIkG,SAAJ,EAAeT,MAAf,EAAuBJ,CAAvB;AAEAI,EAAAA,MAAM,GAAG,KAAK1B,OAAd;AACA,MAAI0B,MAAM,KAAKzB,SAAf,EACE,OAAO,IAAP,CAL8B,CAOhC;;AACA,MAAIyB,MAAM,CAAC2B,cAAP,KAA0BpD,SAA9B,EAAyC;AACvC,QAAIsB,SAAS,CAAC5E,MAAV,KAAqB,CAAzB,EAA4B;AAC1B,WAAKqD,OAAL,GAAevD,MAAM,CAACsE,MAAP,CAAc,IAAd,CAAf;AACA,WAAKb,YAAL,GAAoB,CAApB;AACD,KAHD,MAGO,IAAIwB,MAAM,CAACzF,IAAD,CAAN,KAAiBgE,SAArB,EAAgC;AACrC,UAAI,EAAE,KAAKC,YAAP,KAAwB,CAA5B,EACE,KAAKF,OAAL,GAAevD,MAAM,CAACsE,MAAP,CAAc,IAAd,CAAf,CADF,KAGE,OAAOW,MAAM,CAACzF,IAAD,CAAb;AACH;;AACD,WAAO,IAAP;AACD,GAnB+B,CAqBhC;;;AACA,MAAIsF,SAAS,CAAC5E,MAAV,KAAqB,CAAzB,EAA4B;AAC1B,QAAID,IAAI,GAAGD,MAAM,CAACC,IAAP,CAAYgF,MAAZ,CAAX;AACA,QAAIlF,GAAJ;;AACA,SAAK8E,CAAC,GAAG,CAAT,EAAYA,CAAC,GAAG5E,IAAI,CAACC,MAArB,EAA6B,EAAE2E,CAA/B,EAAkC;AAChC9E,MAAAA,GAAG,GAAGE,IAAI,CAAC4E,CAAD,CAAV;AACA,UAAI9E,GAAG,KAAK,gBAAZ,EAA8B;AAC9B,WAAK0H,kBAAL,CAAwB1H,GAAxB;AACD;;AACD,SAAK0H,kBAAL,CAAwB,gBAAxB;AACA,SAAKlE,OAAL,GAAevD,MAAM,CAACsE,MAAP,CAAc,IAAd,CAAf;AACA,SAAKb,YAAL,GAAoB,CAApB;AACA,WAAO,IAAP;AACD;;AAEDiC,EAAAA,SAAS,GAAGT,MAAM,CAACzF,IAAD,CAAlB;;AAEA,MAAI,OAAOkG,SAAP,KAAqB,UAAzB,EAAqC;AACnC,SAAKkB,cAAL,CAAoBpH,IAApB,EAA0BkG,SAA1B;AACD,GAFD,MAEO,IAAIA,SAAS,KAAKlC,SAAlB,EAA6B;AAClC;AACA,SAAKqB,CAAC,GAAGa,SAAS,CAACxF,MAAV,GAAmB,CAA5B,EAA+B2E,CAAC,IAAI,CAApC,EAAuCA,CAAC,EAAxC,EAA4C;AAC1C,WAAK+B,cAAL,CAAoBpH,IAApB,EAA0BkG,SAAS,CAACb,CAAD,CAAnC;AACD;AACF;;AAED,SAAO,IAAP;AACD,CAjDL;;AAmDA,SAAS6C,UAAT,CAAoBxF,MAApB,EAA4B1C,IAA5B,EAAkCmI,MAAlC,EAA0C;AACxC,MAAI1C,MAAM,GAAG/C,MAAM,CAACqB,OAApB;AAEA,MAAI0B,MAAM,KAAKzB,SAAf,EACE,OAAO,EAAP;AAEF,MAAIoE,UAAU,GAAG3C,MAAM,CAACzF,IAAD,CAAvB;AACA,MAAIoI,UAAU,KAAKpE,SAAnB,EACE,OAAO,EAAP;AAEF,MAAI,OAAOoE,UAAP,KAAsB,UAA1B,EACE,OAAOD,MAAM,GAAG,CAACC,UAAU,CAAC/D,QAAX,IAAuB+D,UAAxB,CAAH,GAAyC,CAACA,UAAD,CAAtD;AAEF,SAAOD,MAAM,GACXE,eAAe,CAACD,UAAD,CADJ,GACmBjC,UAAU,CAACiC,UAAD,EAAaA,UAAU,CAAC1H,MAAxB,CAD1C;AAED;;AAEDkD,YAAY,CAACd,SAAb,CAAuBoD,SAAvB,GAAmC,SAASA,SAAT,CAAmBlG,IAAnB,EAAyB;AAC1D,SAAOkI,UAAU,CAAC,IAAD,EAAOlI,IAAP,EAAa,IAAb,CAAjB;AACD,CAFD;;AAIA4D,YAAY,CAACd,SAAb,CAAuBwF,YAAvB,GAAsC,SAASA,YAAT,CAAsBtI,IAAtB,EAA4B;AAChE,SAAOkI,UAAU,CAAC,IAAD,EAAOlI,IAAP,EAAa,KAAb,CAAjB;AACD,CAFD;;AAIA4D,YAAY,CAAC2E,aAAb,GAA6B,UAAS1B,OAAT,EAAkB7G,IAAlB,EAAwB;AACnD,MAAI,OAAO6G,OAAO,CAAC0B,aAAf,KAAiC,UAArC,EAAiD;AAC/C,WAAO1B,OAAO,CAAC0B,aAAR,CAAsBvI,IAAtB,CAAP;AACD,GAFD,MAEO;AACL,WAAOuI,aAAa,CAACxF,IAAd,CAAmB8D,OAAnB,EAA4B7G,IAA5B,CAAP;AACD;AACF,CAND;;AAQA4D,YAAY,CAACd,SAAb,CAAuByF,aAAvB,GAAuCA,aAAvC;;AACA,SAASA,aAAT,CAAuBvI,IAAvB,EAA6B;AAC3B,MAAIyF,MAAM,GAAG,KAAK1B,OAAlB;;AAEA,MAAI0B,MAAM,KAAKzB,SAAf,EAA0B;AACxB,QAAIoE,UAAU,GAAG3C,MAAM,CAACzF,IAAD,CAAvB;;AAEA,QAAI,OAAOoI,UAAP,KAAsB,UAA1B,EAAsC;AACpC,aAAO,CAAP;AACD,KAFD,MAEO,IAAIA,UAAU,KAAKpE,SAAnB,EAA8B;AACnC,aAAOoE,UAAU,CAAC1H,MAAlB;AACD;AACF;;AAED,SAAO,CAAP;AACD;;AAEDkD,YAAY,CAACd,SAAb,CAAuB0F,UAAvB,GAAoC,SAASA,UAAT,GAAsB;AACxD,SAAO,KAAKvE,YAAL,GAAoB,CAApB,GAAwBjB,cAAc,CAAC,KAAKe,OAAN,CAAtC,GAAuD,EAA9D;AACD,CAFD;;AAIA,SAASoC,UAAT,CAAoBsC,GAApB,EAAyBzD,CAAzB,EAA4B;AAC1B,MAAI0D,IAAI,GAAG,IAAIzI,KAAJ,CAAU+E,CAAV,CAAX;;AACA,OAAK,IAAIK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGL,CAApB,EAAuB,EAAEK,CAAzB,EACEqD,IAAI,CAACrD,CAAD,CAAJ,GAAUoD,GAAG,CAACpD,CAAD,CAAb;;AACF,SAAOqD,IAAP;AACD;;AAED,SAASX,SAAT,CAAmBJ,IAAnB,EAAyBgB,KAAzB,EAAgC;AAC9B,SAAOA,KAAK,GAAG,CAAR,GAAYhB,IAAI,CAACjH,MAAxB,EAAgCiI,KAAK,EAArC,EACEhB,IAAI,CAACgB,KAAD,CAAJ,GAAchB,IAAI,CAACgB,KAAK,GAAG,CAAT,CAAlB;;AACFhB,EAAAA,IAAI,CAACiB,GAAL;AACD;;AAED,SAASP,eAAT,CAAyBI,GAAzB,EAA8B;AAC5B,MAAII,GAAG,GAAG,IAAI5I,KAAJ,CAAUwI,GAAG,CAAC/H,MAAd,CAAV;;AACA,OAAK,IAAI2E,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwD,GAAG,CAACnI,MAAxB,EAAgC,EAAE2E,CAAlC,EAAqC;AACnCwD,IAAAA,GAAG,CAACxD,CAAD,CAAH,GAASoD,GAAG,CAACpD,CAAD,CAAH,CAAOhB,QAAP,IAAmBoE,GAAG,CAACpD,CAAD,CAA/B;AACD;;AACD,SAAOwD,GAAP;AACD;;AAED,SAAS/E,IAAT,CAAc+C,OAAd,EAAuBD,IAAvB,EAA6B;AAC3B,SAAO,IAAIkC,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC5C,aAASC,aAAT,GAAyB;AACvB,UAAIC,aAAa,KAAKlF,SAAtB,EAAiC;AAC/B6C,QAAAA,OAAO,CAACO,cAAR,CAAuB,OAAvB,EAAgC8B,aAAhC;AACD;;AACDH,MAAAA,OAAO,CAAC,GAAGI,KAAH,CAASpG,IAAT,CAAcuC,SAAd,CAAD,CAAP;AACD;;AAAA;AACD,QAAI4D,aAAJ,CAP4C,CAS5C;AACA;AACA;AACA;AACA;AACA;;AACA,QAAItC,IAAI,KAAK,OAAb,EAAsB;AACpBsC,MAAAA,aAAa,GAAG,SAASA,aAAT,CAAuBrD,GAAvB,EAA4B;AAC1CgB,QAAAA,OAAO,CAACO,cAAR,CAAuBR,IAAvB,EAA6BqC,aAA7B;AACAD,QAAAA,MAAM,CAACnD,GAAD,CAAN;AACD,OAHD;;AAKAgB,MAAAA,OAAO,CAAC/C,IAAR,CAAa,OAAb,EAAsBoF,aAAtB;AACD;;AAEDrC,IAAAA,OAAO,CAAC/C,IAAR,CAAa8C,IAAb,EAAmBqC,aAAnB;AACD,GAzBM,CAAP;AA0BD;;;;;;;;AC3dD,IAAMxD,MAAM,GAAGrD,OAAO,CAAC,QAAD,CAAtB;;AACA,IAAMD,EAAE,GAAGC,OAAO,CAAC,UAAD,CAAlB;;IAEMgH;AACJ,iBAAY1J,GAAZ,EAAiB;AAAA;;AACf,SAAKA,GAAL,GAAWyC,EAAE,CAAC1C,KAAH,CAASC,GAAT,CAAX;AACA,SAAK2J,KAAL,GAAa,IAAI5D,MAAM,CAAC7B,YAAX,EAAb;AACA,SAAK0F,MAAL,GAAc,EAAd;;AACA,QAAI5J,GAAG,CAAC6J,GAAR,EAAa;AACX,WAAKzJ,EAAL,GAAUJ,GAAG,CAAC6J,GAAd;AACD,KAFD,MAEO;AACL,WAAKzJ,EAAL,GAAUqC,EAAE,CAACrC,EAAH,EAAV;AACD;AACF;;;;WACD,gBAAO0J,MAAP,EAAe;AACb,UAAIA,MAAJ,EAAY;AACV,aAAKC,WAAL,GAAmBtH,EAAE,CAAC1C,KAAH,CAAS,KAAKC,GAAd,CAAnB;AACA,aAAKA,GAAL,GAAWyC,EAAE,CAAChC,MAAH,CAAU,KAAKsJ,WAAf,EAA4BD,MAA5B,CAAX;;AACA,YAAI,KAAKjI,MAAT,EAAiB;AACf,eAAK7B,GAAL,GAAW,KAAK6B,MAAL,CAAYD,KAAZ,CAAkB,KAAK5B,GAAvB,CAAX;AACD;;AACD,aAAK4J,MAAL,GAAcnH,EAAE,CAACvB,OAAH,CAAW,KAAK6I,WAAhB,EAA6B,KAAK/J,GAAlC,CAAd;AACA,aAAK2J,KAAL,CAAWjE,IAAX,CAAgB,QAAhB,EAA0B,IAA1B;AACD;AACF;;;WACD,gBAAOsE,SAAP,EAAkB;AAChB;AACA,UAAIA,SAAJ,EAAe;AACb,aAAKD,WAAL,GAAmBtH,EAAE,CAAC1C,KAAH,CAAS,KAAKC,GAAd,CAAnB;AACA,aAAKA,GAAL,GAAWyC,EAAE,CAACxB,MAAH,CAAU,KAAK8I,WAAf,EAA4BC,SAA5B,CAAX;;AACA,YAAI,KAAKnI,MAAT,EAAiB;AACf,eAAK7B,GAAL,GAAW,KAAK6B,MAAL,CAAYD,KAAZ,CAAkB,KAAK5B,GAAvB,CAAX;AACD;;AACD,aAAK4J,MAAL,GAAcnH,EAAE,CAACvB,OAAH,CAAW,KAAK6I,WAAhB,EAA6B,KAAK/J,GAAlC,CAAd;AACA,aAAK2J,KAAL,CAAWjE,IAAX,CAAgB,QAAhB,EAA0B,IAA1B;AACD;AACF;;;WACD,mBAAU;AACR;AACA,WAAKiE,KAAL,CAAWjE,IAAX,CAAgB,SAAhB;AACD;;;WACD,kBAAS;AACP7B,MAAAA,OAAO,CAACoG,GAAR,CAAY,qBAAZ;AACD;;;WACD,gBAAO;AACL;AACA,WAAKN,KAAL,CAAWjE,IAAX,CAAgB,MAAhB;AACD;;;WACD,gBAAO;AACL;AACA,WAAKiE,KAAL,CAAWjE,IAAX,CAAgB,MAAhB;AACD;;;;;;AAGH7F,MAAM,CAACC,OAAP,GAAiB4J,KAAjB;;;;;;;;;;;;;;ACtDA,IAAM3D,MAAM,GAAGrD,OAAO,CAAC,QAAD,CAAtB;;AACA,IAAMD,EAAE,GAAGC,OAAO,CAAC,UAAD,CAAlB;;IAEMwH;AACJ,sBAAYlK,GAAZ,EAAiBmK,IAAjB,EAAuB;AAAA;;AACrB,SAAKR,KAAL,GAAa,IAAI5D,MAAM,CAAC7B,YAAX,EAAb;;AACA,QAAIiG,IAAJ,EAAU;AACR,UAAIA,IAAI,CAACC,GAAT,EAAc;AACZ,aAAKA,GAAL,GAAWD,IAAI,CAACC,GAAhB;AACD;;AACD,UAAID,IAAI,CAACtI,MAAT,EAAiB;AACf,aAAKA,MAAL,GAAcsI,IAAI,CAACtI,MAAnB;AACD;AACF;;AACD,SAAKzB,EAAL,GAAUqC,EAAE,CAACrC,EAAH,EAAV;AACA,SAAKJ,GAAL,GAAW,EAAX;;AAXqB,+CAYPyC,EAAE,CAACpC,kBAAH,CAAsBL,GAAtB,EAA2B,OAA3B,CAZO;AAAA;;AAAA;AAYrB,0DAAkD;AAAA,YAAzC2F,CAAyC;AAChD,aAAKa,SAAL,CAAeb,CAAf;AACD;AAdoB;AAAA;AAAA;AAAA;AAAA;AAgBtB;;;;WACD,aAAImE,MAAJ,EAAY;AACV,WAAKtD,SAAL,CAAesD,MAAf;AACA,WAAKH,KAAL,CAAWjE,IAAX,CAAgB,KAAhB,EAAuB,KAAK1F,GAA5B,EAAiC8J,MAAjC;AACD;;;WACD,mBAAUA,MAAV,EAAiB;AACf,UAAIO,IAAI,GAAG,IAAX,CADe,CAEf;;AACA,UAAI,KAAKxI,MAAT,EAAiB;AACfiI,QAAAA,MAAM,CAACjI,MAAP,GAAgB,KAAKA,MAArB;AACAiI,QAAAA,MAAM,CAAC9J,GAAP,GAAa,KAAK6B,MAAL,CAAYD,KAAZ,CAAkBkI,MAAM,CAAC9J,GAAzB,CAAb;AACD;;AACD,eAASsK,WAAT,CAAqBH,IAArB,EAA2B;AACzBE,QAAAA,IAAI,CAACV,KAAL,CAAWjE,IAAX,CAAgB,QAAhB,EAA0ByE,IAA1B;AACD;;AAED,eAASI,WAAT,CAAqBJ,IAArB,EAA2B;AACzBE,QAAAA,IAAI,CAACV,KAAL,CAAWjE,IAAX,CAAgB,QAAhB,EAA0ByE,IAA1B;AACD;;AAED,eAASK,YAAT,CAAsBL,IAAtB,EAA4B;AAC1BE,QAAAA,IAAI,CAACV,KAAL,CAAWjE,IAAX,CAAgB,SAAhB,EAA2ByE,IAA3B;AACD;;AAED,eAASM,SAAT,CAAmBN,IAAnB,EAAyB;AACvBE,QAAAA,IAAI,CAACV,KAAL,CAAWjE,IAAX,CAAgB,MAAhB,EAAwByE,IAAxB;AACD;;AAED,eAASO,SAAT,CAAmBP,IAAnB,EAAyB;AACvBE,QAAAA,IAAI,CAACV,KAAL,CAAWjE,IAAX,CAAgB,MAAhB,EAAwByE,IAAxB;AACD;;AAED,eAASQ,WAAT,CAAqBT,UAArB,EAAiC;AAC/B,YAAIA,UAAU,KAAKG,IAAnB,EAAyB;AACvBP,UAAAA,MAAM,CAACH,KAAP,CAAajC,cAAb,CAA4B,QAA5B,EAAsC4C,WAAtC;AACAR,UAAAA,MAAM,CAACH,KAAP,CAAajC,cAAb,CAA4B,QAA5B,EAAsC6C,WAAtC;AACAT,UAAAA,MAAM,CAACH,KAAP,CAAajC,cAAb,CAA4B,SAA5B,EAAuC8C,YAAvC;AACAV,UAAAA,MAAM,CAACH,KAAP,CAAajC,cAAb,CAA4B,MAA5B,EAAoC+C,SAApC;AACAX,UAAAA,MAAM,CAACH,KAAP,CAAajC,cAAb,CAA4B,MAA5B,EAAoCgD,SAApC;AACAZ,UAAAA,MAAM,CAACH,KAAP,CAAajC,cAAb,CAA4B,QAA5B,EAAsCiD,WAAtC;AACAb,UAAAA,MAAM,CAACjI,MAAP,GAAgB,EAAhB;AACD;AACF;;AAAA;AACDiI,MAAAA,MAAM,CAACH,KAAP,CAAatC,WAAb,CAAyB,QAAzB,EAAmCiD,WAAnC;AACAR,MAAAA,MAAM,CAACH,KAAP,CAAatC,WAAb,CAAyB,QAAzB,EAAmCkD,WAAnC;AACAT,MAAAA,MAAM,CAACH,KAAP,CAAatC,WAAb,CAAyB,SAAzB,EAAoCmD,YAApC;AACAV,MAAAA,MAAM,CAACH,KAAP,CAAatC,WAAb,CAAyB,MAAzB,EAAiCoD,SAAjC;AACAX,MAAAA,MAAM,CAACH,KAAP,CAAatC,WAAb,CAAyB,MAAzB,EAAiCqD,SAAjC;AACAZ,MAAAA,MAAM,CAACH,KAAP,CAAatC,WAAb,CAAyB,QAAzB,EAAmCsD,WAAnC;AACA,WAAK3K,GAAL,GAAW,KAAKA,GAAL,CAAS0D,MAAT,CAAgBjB,EAAE,CAACpC,kBAAH,CAAsByJ,MAAtB,EAA8B,OAA9B,CAAhB,CAAX;AACD;;;WACD,gBAAOc,SAAP,EAAkBvI,KAAlB,EAAyB;AACvB;AADuB,kDAET,KAAKrC,GAFI;AAAA;;AAAA;AAEvB,+DAAwB;AAAA,cAAf2F,CAAe;;AACtB,cAAI,CAACtD,KAAD,IAAUI,EAAE,CAACJ,KAAH,CAASsD,CAAC,CAAC3F,GAAX,EAAgBqC,KAAhB,CAAd,EAAsC;AACpCsD,YAAAA,CAAC,CAAClF,MAAF,CAASmK,SAAT;AACD;AACF;AANsB;AAAA;AAAA;AAAA;AAAA;AAOxB;;;WACD,gBAAOZ,SAAP,EAAkB3H,KAAlB,EAAyB;AACvB;AADuB,kDAET,KAAKrC,GAFI;AAAA;;AAAA;AAEvB,+DAAwB;AAAA,cAAf2F,CAAe;;AACtB,cAAI,CAACtD,KAAD,IAAUI,EAAE,CAACJ,KAAH,CAASsD,CAAC,CAAC3F,GAAX,EAAgBqC,KAAhB,CAAd,EAAsC;AACpCsD,YAAAA,CAAC,CAAC1E,MAAF,CAAS+I,SAAT;AACD;AACF;AANsB;AAAA;AAAA;AAAA;AAAA;AAOxB;;;WACD,gBAAON,KAAP,EAAc;AACZ;AACA,UAAIA,KAAJ,EAAW;AACTA,QAAAA,KAAK,CAACC,KAAN,CAAYjE,IAAZ,CAAiB,QAAjB,EAA2B,IAA3B;AACA,aAAKiE,KAAL,CAAWjE,IAAX,CAAgB,QAAhB,EAA0BgE,KAA1B;AACD,OAHD,MAGO;AACL7F,QAAAA,OAAO,CAACoG,GAAR,CAAY,oCAAZ;AACD;AACF;;;WACD,uBAAc5H,KAAd,EAAqB;AACnB;AADmB,kDAEL,KAAKrC,GAFA;AAAA;;AAAA;AAEnB,+DAAwB;AAAA,cAAf2F,CAAe;;AACtB,cAAI7E,MAAM,CAACC,IAAP,CAAYsB,KAAZ,EAAmBrB,MAAnB,GAA4B,CAA5B,IAAiCyB,EAAE,CAACJ,KAAH,CAASsD,CAAC,CAAC3F,GAAX,EAAgBqC,KAAhB,CAArC,EAA6D;AAC3D,iBAAKwI,MAAL,CAAYlF,CAAZ;AACD;AACF;AANkB;AAAA;AAAA;AAAA;AAAA;AAOpB;;;WACD,6BAAoB;AAClB;AACA,WAAKgE,KAAL,CAAWjE,IAAX,CAAgB,mBAAhB;AACD;;;WACD,gBAAO;AACL;AACA,WAAKiE,KAAL,CAAWjE,IAAX,CAAgB,MAAhB;AACD;;;WACD,gBAAO;AACL;AACA,WAAKiE,KAAL,CAAWjE,IAAX,CAAgB,MAAhB;AACD;;;WACD,kBAAS;AACP,aAAO,KAAK1F,GAAL,CAAS8K,GAAT,CAAa,UAAAtJ,CAAC;AAAA,eAAIA,CAAC,CAACxB,GAAN;AAAA,OAAd,CAAP;AACD;;;;;;AAGHH,MAAM,CAACC,OAAP,GAAiBoK,UAAjB;;;;;;;;;;;;;;ACzHA,IAAMnE,MAAM,GAAGrD,OAAO,CAAC,QAAD,CAAtB;;AACA,IAAMD,EAAE,GAAGC,OAAO,CAAC,UAAD,CAAlB;;IAEMqI;AACJ,sBAAY/K,GAAZ,EAAiB;AAAA;;AACf,SAAKgL,KAAL,GAAa,EAAb;AACA,SAAKrB,KAAL,GAAa,IAAI5D,MAAM,CAAC7B,YAAX,EAAb;AACA,QAAImG,IAAI,GAAG,IAAX;AACA,SAAKrK,GAAL,GAAWA,GAAX;AACA,SAAKM,IAAL,GAAYN,GAAG,CAACiL,WAAJ,CAAgB/D,IAA5B;AACAlH,IAAAA,GAAG,CAAC2J,KAAJ,CAAUtC,WAAV,CAAsB,QAAtB,EAAgC,UAAS8C,IAAT,EAAe;AAC7CE,MAAAA,IAAI,CAACa,SAAL,CAAe,QAAf,EAAyBf,IAAzB;AACAE,MAAAA,IAAI,CAAC5J,MAAL,CAAY0J,IAAZ,EAAkBE,IAAI,CAACrK,GAAL,CAASA,GAA3B;AACD,KAHD;AAIAA,IAAAA,GAAG,CAAC2J,KAAJ,CAAUtC,WAAV,CAAsB,KAAtB,EAA6B,UAAS8C,IAAT,EAAe;AAC1CE,MAAAA,IAAI,CAACa,SAAL,CAAe,KAAf,EAAsBf,IAAtB;AACAE,MAAAA,IAAI,CAACc,GAAL,CAAShB,IAAT,EAAeE,IAAI,CAACrK,GAAL,CAASA,GAAxB;AACD,KAHD;AAIAA,IAAAA,GAAG,CAAC2J,KAAJ,CAAUtC,WAAV,CAAsB,QAAtB,EAAgC,UAAS8C,IAAT,EAAe;AAC7CE,MAAAA,IAAI,CAACa,SAAL,CAAe,QAAf,EAAyBf,IAAzB;AACAE,MAAAA,IAAI,CAACpJ,MAAL,CAAYkJ,IAAZ,EAAkBE,IAAI,CAACrK,GAAL,CAASA,GAA3B;AACD,KAHD;AAIAA,IAAAA,GAAG,CAAC2J,KAAJ,CAAUtC,WAAV,CAAsB,SAAtB,EAAiC,YAAW;AAC1CgD,MAAAA,IAAI,CAACa,SAAL,CAAe,SAAf;AACAb,MAAAA,IAAI,CAACe,OAAL;AACD,KAHD;AAIApL,IAAAA,GAAG,CAAC2J,KAAJ,CAAUtC,WAAV,CAAsB,QAAtB,EAAgC,UAAS8C,IAAT,EAAe;AAC7CE,MAAAA,IAAI,CAACa,SAAL,CAAe,QAAf,EAAyBf,IAAzB;AACAE,MAAAA,IAAI,CAACQ,MAAL,CAAYV,IAAZ;AACD,KAHD;AAIA;AACJ;AACA;;AACInK,IAAAA,GAAG,CAAC2J,KAAJ,CAAUtC,WAAV,CAAsB,mBAAtB,EAA2C,YAAW;AACpDgD,MAAAA,IAAI,CAACa,SAAL,CAAe,mBAAf;AACAb,MAAAA,IAAI,CAACgB,iBAAL;AACD,KAHD;AAIArL,IAAAA,GAAG,CAAC2J,KAAJ,CAAUtC,WAAV,CAAsB,MAAtB,EAA8B,YAAW;AACvCgD,MAAAA,IAAI,CAACa,SAAL,CAAe,MAAf;AACAb,MAAAA,IAAI,CAACiB,IAAL;AACD,KAHD;AAIAtL,IAAAA,GAAG,CAAC2J,KAAJ,CAAUtC,WAAV,CAAsB,MAAtB,EAA8B,YAAW;AACvCgD,MAAAA,IAAI,CAACa,SAAL,CAAe,MAAf;AACAb,MAAAA,IAAI,CAACkB,IAAL;AACD,KAHD;AAID;;;;WACD,mBAAU5B,KAAV,EAAgB;AAAA,iDACA,KAAKqB,KADL;AAAA;;AAAA;AACd,4DAAyB;AAAA,cAAhBrF,CAAgB;AACvBA,UAAAA,CAAC,CAAC6F,WAAF,CAAc7B,KAAd;AACD;AAHa;AAAA;AAAA;AAAA;AAAA;AAIf;;;WACD,iBAAQ8B,IAAR,EAAa;AACX,WAAKT,KAAL,CAAWnF,IAAX,CAAgB4F,IAAhB;AACAA,MAAAA,IAAI,CAACD,WAAL;AACD;;;WACD,oBAAWC,IAAX,EAAgB;AACd,WAAKT,KAAL,CAAWU,MAAX,CAAkB,KAAKV,KAAL,CAAWW,OAAX,CAAmBF,IAAnB,CAAlB,EAA4C,CAA5C;AACD;;;WACD,sBAAa;AACX,aAAO,KAAKzL,GAAL,CAASA,GAAhB;AACD;;;WACD,gBAAOmK,IAAP,EAAayB,UAAb,EAAyB5L,GAAzB,EAA8B;AAC5B,cAAQ,KAAKM,IAAb;AACE,aAAK,OAAL;AACEuD,UAAAA,OAAO,CAACoG,GAAR,CAAY,mCAAZ;AACA;;AACF,aAAK,YAAL;AACEpG,UAAAA,OAAO,CAACoG,GAAR,CAAY,wCAAZ;AACA;AANJ;AAQD;;;WACD,aAAIE,IAAJ,EAAUyB,UAAV,EAAsB5L,GAAtB,EAA2B;AACzB,cAAQ,KAAKM,IAAb;AACE,aAAK,OAAL;AACEuD,UAAAA,OAAO,CAACoG,GAAR,CAAY,gCAAZ;AACA;;AACF,aAAK,YAAL;AACEpG,UAAAA,OAAO,CAACoG,GAAR,CAAY,qCAAZ;AACA;AANJ;AAQD;;;WACD,gBAAOE,IAAP,EAAayB,UAAb,EAAyB5L,GAAzB,EAA8B;AAC5B,cAAQ,KAAKM,IAAb;AACE,aAAK,OAAL;AACEuD,UAAAA,OAAO,CAACoG,GAAR,CAAY,mCAAZ;AACA;;AACF,aAAK,YAAL;AACEpG,UAAAA,OAAO,CAACoG,GAAR,CAAY,wCAAZ;AACA;AANJ;AAQD;;;WACD,iBAAQE,IAAR,EAAcyB,UAAd,EAA0B;AACxB,cAAQ,KAAKtL,IAAb;AACE,aAAK,OAAL;AACEuD,UAAAA,OAAO,CAACoG,GAAR,CAAY,4CAAZ;AACA;;AACF,aAAK,YAAL;AACEpG,UAAAA,OAAO,CAACoG,GAAR,CAAY,iDAAZ;AACA;AANJ;AAQD;;;WACD,gBAAOE,IAAP,EAAa;AACX,cAAQ,KAAK7J,IAAb;AACE,aAAK,OAAL;AACEuD,UAAAA,OAAO,CAACoG,GAAR,CAAY,2CAAZ;AACA;;AACF,aAAK,YAAL;AACEpG,UAAAA,OAAO,CAACoG,GAAR,CAAY,gDAAZ;AACA;AANJ;AAQD;;;WACD,2BAAkBE,IAAlB,EAAwByB,UAAxB,EAAoC;AAClC/H,MAAAA,OAAO,CAACoG,GAAR,CAAY,sDAAZ;AACD;;;WACD,cAAKE,IAAL,EAAWyB,UAAX,EAAuB;AACrB,cAAQ,KAAKtL,IAAb;AACE,aAAK,OAAL;AACEuD,UAAAA,OAAO,CAACoG,GAAR,CAAY,iCAAZ;AACA;;AACF,aAAK,YAAL;AACEpG,UAAAA,OAAO,CAACoG,GAAR,CAAY,sCAAZ;AACA;AANJ;AAQD;;;WACD,cAAKE,IAAL,EAAWyB,UAAX,EAAuB;AACrB,cAAQ,KAAKtL,IAAb;AACE,aAAK,OAAL;AACEuD,UAAAA,OAAO,CAACoG,GAAR,CAAY,iCAAZ;AACA;;AACF,aAAK,YAAL;AACEpG,UAAAA,OAAO,CAACoG,GAAR,CAAY,sCAAZ;AACA;AANJ;AAQD;;;;;;AAEHpK,MAAM,CAACC,OAAP,GAAiBiL,UAAjB;;;;;;;;;;;;;;ACvIA,IAAMhF,MAAM,GAAGrD,OAAO,CAAC,QAAD,CAAtB;;AACA,IAAMD,EAAE,GAAGC,OAAO,CAAC,UAAD,CAAlB;;IAEM+I;AACJ,gBAAYI,EAAZ,EAAgBd,UAAhB,EAA4B;AAAA;;AAC1B,SAAKc,EAAL,GAAUA,EAAV;AACA,SAAKzL,EAAL,GAAUqC,EAAE,CAACrC,EAAH,EAAV;AACA,SAAK2K,UAAL,GAAkBA,UAAlB;AACA,SAAKzK,IAAL,GAAYyK,UAAU,CAACzK,IAAvB;AACA,SAAK2H,IAAL,GAAY,KAAK4D,EAAL,CAAQC,gBAAR,CAAyB,MAAzB,CAAZ;AACA,SAAKC,KAAL,GAAa,EAAb;AACA,SAAKC,eAAL,GAAuB,EAAvB,CAP0B,CAQ1B;;AACA,SAAK,IAAIrG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKsC,IAAL,CAAUjH,MAA9B,EAAsC2E,CAAC,EAAvC,EAA2C;AACzC,WAAKoG,KAAL,CAAWlG,IAAX,CAAgB,KAAKoC,IAAL,CAAUtC,CAAV,EAAasG,UAAb,CAAwBC,EAAxB,CAA2BjI,KAA3C;AACD;;AACD,SAAKkI,OAAL;AACA,SAAKC,MAAL;AACD;;;;WACD,mBAAU;AACR,WAAKrB,UAAL,CAAgBoB,OAAhB,CAAwB,IAAxB;AACD;;;WACD,sBAAa;AACX,WAAKpB,UAAL,CAAgBsB,UAAhB,CAA2B,IAA3B,EADW,CAEX;AACD;;;WACD,qBAAY1C,KAAZ,EAAmB;AACjB,WAAK,IAAIhE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKoG,KAAL,CAAW/K,MAA/B,EAAuC2E,CAAC,EAAxC,EAA4C;AAC1C,YAAI2G,IAAI,GAAG,KAAKP,KAAL,CAAWpG,CAAX,EAAc4G,KAAd,CAAoB,GAApB,CAAX;;AACA,YAAI;AACF,cAAIjK,MAAM,GAAG,KAAKyI,UAAL,CAAgB/K,GAAhB,CAAoBA,GAAjC;;AACA,eAAK,IAAIwM,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,IAAI,CAACtL,MAAzB,EAAiCwL,CAAC,EAAlC,EAAsC;AACpClK,YAAAA,MAAM,GAAGA,MAAM,CAACgK,IAAI,CAACE,CAAD,CAAL,CAAf;AACD;;AACD,eAAKC,UAAL,CAAgB,KAAKV,KAAL,CAAWpG,CAAX,CAAhB,EAA+BrD,MAA/B;AACD,SAND,CAME,OAAO6D,GAAP,EAAY;AACZtC,UAAAA,OAAO,CAACoG,GAAR,CAAY9D,GAAZ;AACD;AACF;AACF;;;WACD,oBAAWmG,IAAX,EAAiBhK,MAAjB,EAAyB;AAAA,iDACT,KAAK2F,IADI;AAAA;;AAAA;AACvB,4DAAyB;AAAA,cAAhBuE,CAAgB;;AACvB,cAAIA,CAAC,CAACE,YAAF,CAAe,IAAf,MAAyBJ,IAA7B,EAAmC;AACjC,oBAAQE,CAAC,CAACG,OAAV;AACE,mBAAK,KAAL;AACE,oBAAIH,CAAC,CAACI,SAAF,KAAgBtK,MAApB,EAA4B;AAC1BkK,kBAAAA,CAAC,CAACI,SAAF,GAActK,MAAd;AACD;;AACD;;AACF,mBAAK,QAAL;AACA,mBAAK,UAAL;AACE,oBAAIkK,CAAC,CAACvI,KAAF,KAAY3B,MAAhB,EAAwB;AACtBkK,kBAAAA,CAAC,CAACvI,KAAF,GAAU3B,MAAV;AACD;;AACD;;AACF,mBAAK,OAAL;AACE,wBAAQkK,CAAC,CAACE,YAAF,CAAe,MAAf,CAAR;AACE,uBAAK,MAAL;AACE,wBAAIF,CAAC,CAACvI,KAAF,KAAY3B,MAAhB,EAAwB;AACtBkK,sBAAAA,CAAC,CAACvI,KAAF,GAAU3B,MAAV;AACD;;AACD;;AACF,uBAAK,OAAL;AACE;AACA;AARJ;;AAUA;AAvBJ;AAyBD;AACF;AA7BsB;AAAA;AAAA;AAAA;AAAA;AA8BxB;AACD;AACF;AACA;AACA;AACA;;;;WACE,kBAAS;AACP,UAAI+H,IAAI,GAAG,IAAX;;AADO,kDAEO,KAAKpC,IAFZ;AAAA;;AAAA;AAAA;AAAA,cAEEuE,CAFF;;AAGL,cAAIK,cAAc,GAAG,SAAjBA,cAAiB,GAAW;AAC9B;AACA,gBAAI7M,GAAG,GAAG,EAAV;AACA,gBAAI+L,KAAK,GAAGS,CAAC,CAACE,YAAF,CAAe,IAAf,EAAqBH,KAArB,CAA2B,GAA3B,CAAZ;AACA,gBAAIhK,CAAC,GAAGvC,GAAR;;AACA,iBAAK,IAAI2F,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoG,KAAK,CAAC/K,MAA1B,EAAkC2E,CAAC,EAAnC,EAAuC;AACrC,kBAAImH,GAAG,GAAG,EAAV;;AACA,kBAAInH,CAAC,GAAG,CAAJ,KAAUoG,KAAK,CAAC/K,MAApB,EAA4B;AAC1B8L,gBAAAA,GAAG,GAAGN,CAAC,CAACvI,KAAR;AACD;;AACD1B,cAAAA,CAAC,GAAGA,CAAC,CAACwJ,KAAK,CAACpG,CAAD,CAAN,CAAD,GAAcmH,GAAlB;AACD;;AACDzC,YAAAA,IAAI,CAACU,UAAL,CAAgB/K,GAAhB,CAAoBS,MAApB,CAA2BT,GAA3B;AACD,WAbD;;AAcA,kBAAQwM,CAAC,CAACG,OAAV;AACE,iBAAK,QAAL;AACA,iBAAK,UAAL;AACEH,cAAAA,CAAC,CAACO,gBAAF,CAAmB,OAAnB,EAA4BF,cAA5B;AACA;;AACF,iBAAK,OAAL;AACE,sBAAQL,CAAC,CAACE,YAAF,CAAe,MAAf,CAAR;AACE,qBAAK,MAAL;AACEF,kBAAAA,CAAC,CAACO,gBAAF,CAAmB,OAAnB,EAA4BF,cAA5B;AACA;;AACF,qBAAK,OAAL;AACEhJ,kBAAAA,OAAO,CAACoG,GAAR,CAAYuC,CAAZ;AACAA,kBAAAA,CAAC,CAACO,gBAAF,CAAmB,QAAnB,EAA6B,YAAW;AACtClJ,oBAAAA,OAAO,CAACoG,GAAR,CAAYuC,CAAC,CAACvI,KAAd;AACD,mBAFD;;AAGF;AATF;;AAYA;AAlBJ;AAjBK;;AAEP,+DAAyB;AAAA;AAmCxB;AArCM;AAAA;AAAA;AAAA;AAAA;AAsCR;;;;;;AAGHpE,MAAM,CAACC,OAAP,GAAiB2L,IAAjB;;ACrHA,IAAM5J,MAAM,GAAGa,OAAO,CAAC,aAAD,CAAtB;;AACA,IAAMgH,KAAK,GAAGhH,OAAO,CAAC,YAAD,CAArB;;AACA,IAAMwH,UAAU,GAAGxH,OAAO,CAAC,iBAAD,CAA1B;;AACA,IAAMqI,UAAU,GAAGrI,OAAO,CAAC,iBAAD,CAA1B;;AACA,IAAM+I,IAAI,GAAG/I,OAAO,CAAC,WAAD,CAApB;;AAEA7C,MAAM,CAACC,OAAP,GAAiB;AACf+B,EAAAA,MAAM,EAAEA,MADO;AAEf6H,EAAAA,KAAK,EAAEA,KAFQ;AAGfQ,EAAAA,UAAU,EAAEA,UAHG;AAIfa,EAAAA,UAAU,EAAEA,UAJG;AAKfU,EAAAA,IAAI,EAAGA;AALQ,CAAjB;;ACNA,IAAMuB,GAAG,GAAGtK,OAAO,CAAC,iBAAD,CAAnB;;AAEA,IAAMuK,SAAS,GAAG;AAChBC,EAAAA,KAAK,EAAEhL,MADS;AAEhBgF,EAAAA,IAAI,EAAEhF,MAFU;AAGhBiL,EAAAA,KAAK,EAAE;AACL7M,IAAAA,IAAI,EAAE4B,MADD;AAELD,IAAAA,OAAO,EAAE;AAFJ,GAHS;AAOhBmL,EAAAA,WAAW,EAAE;AACX9M,IAAAA,IAAI,EAAE4B,MADK;AAEXD,IAAAA,OAAO,EAAE;AAFE,GAPG;AAWhBgG,EAAAA,IAAI,EAAE1H,KAXU;AAYhB8M,EAAAA,MAAM,EAAEjL,OAZQ;AAahBkL,EAAAA,QAAQ,EAAElL,OAbM;AAchBmL,EAAAA,SAAS,EAAE;AACTC,IAAAA,cAAc,EAAEtL,MADP;AAETuL,IAAAA,YAAY,EAAEvL,MAFL;AAGTqL,IAAAA,SAAS,EAAE;AACTC,MAAAA,cAAc,EAAEtL,MADP;AAETuL,MAAAA,YAAY,EAAEvL;AAFL;AAHF;AAdK,CAAlB;AAwBA,IAAMiI,IAAI,GAAG;AACXC,EAAAA,GAAG,EAAE,gBADM;AAEXvI,EAAAA,MAAM,EAAE,IAAImL,GAAG,CAACnL,MAAR,CAAeoL,SAAf;AAFG,CAAb;AAKA,IAAMtM,IAAI,GAAG;AACXuG,EAAAA,IAAI,EAAE,KADK;AAEXiG,EAAAA,KAAK,EAAE,WAFI;AAGXO,EAAAA,UAAU,EAAE,oBAHD;AAIXzF,EAAAA,IAAI,EAAE,CAAC,OAAD,EAAU,QAAV,CAJK;AAKXoF,EAAAA,MAAM,EAAE,KALG;AAMXC,EAAAA,QAAQ,EAAE,MANC;AAOXC,EAAAA,SAAS,EAAE;AACTC,IAAAA,cAAc,EAAE,MADP;AAETC,IAAAA,YAAY,EAAE,CAFL;AAGTF,IAAAA,SAAS,EAAE;AACTC,MAAAA,cAAc,EAAE,MADP;AAETC,MAAAA,YAAY,EAAE;AAFL;AAHF;AAPA,CAAb;AAiBA,IAAME,IAAI,GAAG;AACXzG,EAAAA,IAAI,EAAE,iBADK;AAEXiG,EAAAA,KAAK,EAAE,eAFI;AAGXO,EAAAA,UAAU,EAAE,oBAHD;AAIXzF,EAAAA,IAAI,EAAE,CAAC,WAAD,EAAc,QAAd,CAJK;AAKXoF,EAAAA,MAAM,EAAE,IALG;AAMXC,EAAAA,QAAQ,EAAE,KANC;AAOXC,EAAAA,SAAS,EAAE;AACTC,IAAAA,cAAc,EAAE,UADP;AAETC,IAAAA,YAAY,EAAE,CAFL;AAGTF,IAAAA,SAAS,EAAE;AACTC,MAAAA,cAAc,EAAE,KADP;AAETC,MAAAA,YAAY,EAAE;AAFL;AAHF;AAPA,CAAb;AAiBA,IAAIG,SAAS,GAAG,IAAIZ,GAAG,CAACtD,KAAR,CAAc/I,IAAd,CAAhB;AACA,IAAIkN,SAAS,GAAG,IAAIb,GAAG,CAACtD,KAAR,CAAciE,IAAd,CAAhB;AACA,IAAIG,eAAe,GAAG,IAAId,GAAG,CAACjC,UAAR,CAAmB6C,SAAnB,CAAtB;;AAGAE,eAAe,CAACrN,MAAhB,GAAyB,UAASiJ,KAAT,EAAgB;AACvC,UAAQ,KAAKpJ,IAAb;AACE,SAAK,OAAL;AACEuD,MAAAA,OAAO,CAACoG,GAAR,CAAY,kCAAZ;AACA;;AACF,SAAK,YAAL;AACEpG,MAAAA,OAAO,CAACoG,GAAR,CAAY,uCAAZ;AACA;AANJ;AAQD,CATD;;AAWA6D,eAAe,CAAC3C,GAAhB,GAAsB,UAASzB,KAAT,EAAgB;AACpC,UAAQ,KAAKpJ,IAAb;AACE,SAAK,OAAL;AACEuD,MAAAA,OAAO,CAACoG,GAAR,CAAY,iCAAZ;AACA;;AACF,SAAK,YAAL;AACEpG,MAAAA,OAAO,CAACoG,GAAR,CAAY,sCAAZ;AACA;AANJ;AAQD,CATD;;AAWA6D,eAAe,CAAC7M,MAAhB,GAAyB,UAASyI,KAAT,EAAgB;AACvC,UAAQ,KAAKpJ,IAAb;AACE,SAAK,OAAL;AACEuD,MAAAA,OAAO,CAACoG,GAAR,CAAY,mCAAZ;AACA;;AACF,SAAK,YAAL;AACEpG,MAAAA,OAAO,CAACoG,GAAR,CAAY,wCAAZ;AACA;AANJ;AAQD,CATD;;AAWA,IAAI8D,aAAa,GAAG,IAAIf,GAAG,CAAC9C,UAAR,CAAmB,IAAnB,EAAyBC,IAAzB,CAApB;AACA,IAAI6D,WAAW,GAAG,IAAIhB,GAAG,CAACjC,UAAR,CAAmBgD,aAAnB,CAAlB;;AAEAC,WAAW,CAAC7C,GAAZ,GAAkB,UAASzB,KAAT,EAAgB;AAChC,UAAQ,KAAKpJ,IAAb;AACE,SAAK,OAAL;AACEuD,MAAAA,OAAO,CAACoG,GAAR,CAAY,+BAAZ;AACA;;AACF,SAAK,YAAL;AACEpG,MAAAA,OAAO,CAACoG,GAAR,CAAY,oCAAZ,EADF,CAEE;;AACA;AAPJ;AASD,CAVD;;AAWA+D,WAAW,CAACvN,MAAZ,GAAqB,UAASiJ,KAAT,EAAgB;AACnC,UAAQ,KAAKpJ,IAAb;AACE,SAAK,OAAL;AACEuD,MAAAA,OAAO,CAACoG,GAAR,CAAY,kCAAZ,EADF,CAEE;;AACA;;AACF,SAAK,YAAL;AACEpG,MAAAA,OAAO,CAACoG,GAAR,CAAY,uCAAZ,EADF,CAEE;AACA;AACA;;AACA;AAVJ;AAYD,CAbD;;AAcA+D,WAAW,CAAC/M,MAAZ,GAAqB,UAASyI,KAAT,EAAgB;AACnC,UAAQ,KAAKpJ,IAAb;AACE,SAAK,OAAL;AACEuD,MAAAA,OAAO,CAACoG,GAAR,CAAY,kCAAZ;AACA;;AACF,SAAK,YAAL;AACEpG,MAAAA,OAAO,CAACoG,GAAR,CAAY,uCAAZ;AACA;AANJ;AAQD,CATD;;AAWA+D,WAAW,CAACnD,MAAZ,GAAqB,UAASnB,KAAT,EAAgB;AACnC,UAAQ,KAAKpJ,IAAb;AACE,SAAK,OAAL;AACEuD,MAAAA,OAAO,CAACoG,GAAR,CAAY,kCAAZ;AACA;;AACF,SAAK,YAAL;AACEpG,MAAAA,OAAO,CAACoG,GAAR,CAAY,YAAYP,KAAK,CAACtJ,EAAlB,GAAuB,4BAAvB,GAAsD,KAAKJ,GAAL,CAASI,EAA3E;AACA;AANJ;AAQD,CATD;;AAWA2N,aAAa,CAAC5C,GAAd,CAAkByC,SAAlB;AACAG,aAAa,CAAC5C,GAAd,CAAkB0C,SAAlB;AAEA,IAAIjD,SAAS,GAAG;AACdsC,EAAAA,KAAK,EAAE,QADO;AAEdhG,EAAAA,IAAI,EAAE,KAFQ;AAGdqG,EAAAA,SAAS,EAAE;AACTC,IAAAA,cAAc,EAAE,OADP;AAETC,IAAAA,YAAY,EAAE,CAFL;AAGTF,IAAAA,SAAS,EAAE;AACTE,MAAAA,YAAY,EAAE;AADL;AAHF;AAHG,CAAhB;AAYA,IAAIzD,SAAS,GAAG;AACdkD,EAAAA,KAAK,EAAE,KADO;AAEdK,EAAAA,SAAS,EAAE;AACTC,IAAAA,cAAc,EAAE,KADP;AAETD,IAAAA,SAAS,EAAE;AACTE,MAAAA,YAAY,EAAE;AADL;AAFF;AAFG,CAAhB;AAUA,IAAIpL,KAAK,GAAG;AACV6E,EAAAA,IAAI,EAAE,KADI;AAEVqG,EAAAA,SAAS,EAAE;AACTC,IAAAA,cAAc,EAAE,OADP;AAETC,IAAAA,YAAY,EAAE;AAFL;AAFD,CAAZ;AAQA,IAAIQ,WAAW,GAAG;AAChBf,EAAAA,KAAK,EAAE;AADS,CAAlB;AAIAa,aAAa,CAACtN,MAAd,CAAqBmK,SAArB;AACAmD,aAAa,CAACtN,MAAd,CAAqBmK,SAArB,EAAgCvI,KAAhC;AACA0L,aAAa,CAAC9M,MAAd,CAAqB+I,SAArB;AACA+D,aAAa,CAAClD,MAAd;AACAkD,aAAa,CAACG,aAAd,CAA4BD,WAA5B;AACAF,aAAa,CAACtN,MAAd,CAAqBmK,SAArB;AACAmD,aAAa,CAAC1C,iBAAd;AACA0C,aAAa,CAACzC,IAAd;AACAyC,aAAa,CAACxC,IAAd;AAGAqC,SAAS,CAACnN,MAAV,CAAiB;AACfwH,EAAAA,IAAI,EAAE,CAAC,OAAD,EAAU,WAAV,EAAuB,SAAvB,EAAkC,YAAlC,CADS;AAEfiF,EAAAA,KAAK,EAAE,OAFQ;AAGfhG,EAAAA,IAAI,EAAE,KAHS;AAIfiH,EAAAA,IAAI,EAAE;AACJC,IAAAA,KAAK,EAAE,IADH;AAEJC,IAAAA,UAAU,EAAE,QAFR;AAGJC,IAAAA,QAAQ,EAAE,OAHN;AAIJrG,IAAAA,IAAI,EAAE,CAAC,YAAD,EAAe,aAAf;AAJF;AAJS,CAAjB;AAYA2F,SAAS,CAACnN,MAAV,CAAiB;AACfyM,EAAAA,KAAK,EAAE,QADQ;AAEfhG,EAAAA,IAAI,EAAE,KAFS;AAGfqG,EAAAA,SAAS,EAAE;AACTC,IAAAA,cAAc,EAAE,OADP;AAETC,IAAAA,YAAY,EAAE,CAFL;AAGTF,IAAAA,SAAS,EAAE;AACTE,MAAAA,YAAY,EAAE;AADL;AAHF;AAHI,CAAjB;AAcAG,SAAS,CAAC3M,MAAV;AACA2M,SAAS,CAACxC,OAAV;AACAwC,SAAS,CAACtC,IAAV;AACAsC,SAAS,CAACrC,IAAV;AAEAgD,MAAM,CAACxB,gBAAP,CAAwB,MAAxB,EAAgC,YAAW;AACzC;AAEAlB,EAAAA,EAAE,GAAG2C,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CAAL;AACAC,EAAAA,MAAM,GAAGF,QAAQ,CAACC,cAAT,CAAwB,cAAxB,CAAT,CAJyC,CAKzC;;AAEA,MAAI5C,EAAJ,EAAQ;AACN,QAAIJ,IAAI,GAAG,IAAIuB,GAAG,CAACvB,IAAR,CAAaI,EAAb,EAAiBiC,eAAjB,CAAX;AACA,QAAIa,KAAK,GAAG,IAAI3B,GAAG,CAACvB,IAAR,CAAaiD,MAAb,EAAqBZ,eAArB,CAAZ;AACD;;AAEDF,EAAAA,SAAS,CAACnN,MAAV,CAAiB;AACfwH,IAAAA,IAAI,EAAE,CAAC,OAAD,EAAU,WAAV,EAAuB,SAAvB,EAAkC,YAAlC,CADS;AAEfiF,IAAAA,KAAK,EAAE,OAFQ;AAGfhG,IAAAA,IAAI,EAAE,KAHS;AAIfiH,IAAAA,IAAI,EAAE;AACJC,MAAAA,KAAK,EAAE,IADH;AAEJC,MAAAA,UAAU,EAAE,QAFR;AAGJC,MAAAA,QAAQ,EAAE,OAHN;AAIJrG,MAAAA,IAAI,EAAE,CAAC,YAAD,EAAe,aAAf;AAJF;AAJS,GAAjB;AAYD,CAxBD,GAyBA;;;ACjQA,IAAI2G,UAAU,GAAG,4BAAjB;AAEA,IAAIC,SAAS,GAAGhP,MAAM,CAACiP,MAAP,CAAcC,MAA9B;;AAEA,SAASA,MAAT,CAAgBC,UAAhB,EAA4B;AAC1BH,EAAAA,SAAS,CAACxL,IAAV,CAAe,IAAf,EAAqB2L,UAArB;AACA,OAAKC,GAAL,GAAW;AACT9E,IAAAA,IAAI,EAAEtK,MAAM,CAACiP,MAAP,CAAcI,OADX;AAETC,IAAAA,gBAAgB,EAAE,EAFT;AAGTC,IAAAA,iBAAiB,EAAE,EAHV;AAITC,IAAAA,MAAM,EAAE,UAAU5M,EAAV,EAAc;AACpB,WAAK0M,gBAAL,CAAsBtJ,IAAtB,CAA2BpD,EAAE,IAAI,YAAY,CAAE,CAA/C;AACD,KANQ;AAOT6M,IAAAA,OAAO,EAAE,UAAU7M,EAAV,EAAc;AACrB,WAAK2M,iBAAL,CAAuBvJ,IAAvB,CAA4BpD,EAA5B;AACD;AATQ,GAAX;AAYA5C,EAAAA,MAAM,CAACiP,MAAP,CAAcI,OAAd,GAAwB,IAAxB;AACD;;AAEDrP,MAAM,CAACiP,MAAP,CAAcC,MAAd,GAAuBA,MAAvB;AACA,IAAIQ,aAAJ,EAAmBC,cAAnB;AAEA,IAAIC,MAAM,GAAG5P,MAAM,CAACiP,MAAP,CAAcW,MAA3B;;AACA,IAAI,CAAC,CAACA,MAAD,IAAW,CAACA,MAAM,CAACC,eAApB,KAAwC,OAAOC,SAAP,KAAqB,WAAjE,EAA8E;AAC5E,MAAIC,QAAQ,GAAG,MAA4BC,QAAQ,CAACD,QAApD;AACA,MAAIE,QAAQ,GAAGD,QAAQ,CAACC,QAAT,KAAsB,QAAtB,GAAiC,KAAjC,GAAyC,IAAxD;AACA,MAAIC,EAAE,GAAG,IAAIJ,SAAJ,CAAcG,QAAQ,GAAG,KAAX,GAAmBF,QAAnB,GAA8B,GAA9B,aAA2D,GAAzE,CAAT;;AACAG,EAAAA,EAAE,CAACC,SAAH,GAAe,UAASrG,KAAT,EAAgB;AAC7B4F,IAAAA,aAAa,GAAG,EAAhB;AACAC,IAAAA,cAAc,GAAG,EAAjB;AAEA,QAAIrF,IAAI,GAAGlK,IAAI,CAACC,KAAL,CAAWyJ,KAAK,CAACQ,IAAjB,CAAX;;AAEA,QAAIA,IAAI,CAAC7J,IAAL,KAAc,QAAlB,EAA4B;AAC1B,UAAI2P,OAAO,GAAG,KAAd;AACA9F,MAAAA,IAAI,CAAC+F,MAAL,CAAYC,OAAZ,CAAoB,UAASC,KAAT,EAAgB;AAClC,YAAI,CAACA,KAAK,CAACC,KAAX,EAAkB;AAChB,cAAIC,SAAS,GAAGC,cAAc,CAACC,MAAM,CAACC,aAAR,EAAuBL,KAAK,CAAChQ,EAA7B,CAA9B;;AACA,cAAIkQ,SAAJ,EAAe;AACbL,YAAAA,OAAO,GAAG,IAAV;AACD;AACF;AACF,OAPD,EAF0B,CAW1B;;AACAA,MAAAA,OAAO,GAAGA,OAAO,IAAI9F,IAAI,CAAC+F,MAAL,CAAYQ,KAAZ,CAAkB,UAASN,KAAT,EAAgB;AACrD,eAAOA,KAAK,CAAC9P,IAAN,KAAe,KAAf,IAAwB8P,KAAK,CAACO,SAAN,CAAgBC,EAA/C;AACD,OAFoB,CAArB;;AAIA,UAAIX,OAAJ,EAAa;AACXpM,QAAAA,OAAO,CAACgN,KAAR;AAEA1G,QAAAA,IAAI,CAAC+F,MAAL,CAAYC,OAAZ,CAAoB,UAAUC,KAAV,EAAiB;AACnCU,UAAAA,QAAQ,CAACN,MAAM,CAACC,aAAR,EAAuBL,KAAvB,CAAR;AACD,SAFD;AAIAZ,QAAAA,cAAc,CAACW,OAAf,CAAuB,UAAUY,CAAV,EAAa;AAClCC,UAAAA,YAAY,CAACD,CAAC,CAAC,CAAD,CAAF,EAAOA,CAAC,CAAC,CAAD,CAAR,CAAZ;AACD,SAFD;AAGD,OAVD,MAUO,IAAIlB,QAAQ,CAACoB,MAAb,EAAqB;AAAE;AAC5BpB,QAAAA,QAAQ,CAACoB,MAAT;AACD;AACF;;AAED,QAAI9G,IAAI,CAAC7J,IAAL,KAAc,QAAlB,EAA4B;AAC1ByP,MAAAA,EAAE,CAACmB,KAAH;;AACAnB,MAAAA,EAAE,CAACoB,OAAH,GAAa,YAAY;AACvBtB,QAAAA,QAAQ,CAACoB,MAAT;AACD,OAFD;AAGD;;AAED,QAAI9G,IAAI,CAAC7J,IAAL,KAAc,gBAAlB,EAAoC;AAClCuD,MAAAA,OAAO,CAACoG,GAAR,CAAY,2BAAZ;AAEAmH,MAAAA,kBAAkB;AACnB;;AAED,QAAIjH,IAAI,CAAC7J,IAAL,KAAc,OAAlB,EAA2B;AACzBuD,MAAAA,OAAO,CAACmC,KAAR,CAAc,kBAAkBmE,IAAI,CAACnE,KAAL,CAAWI,OAA7B,GAAuC,IAAvC,GAA8C+D,IAAI,CAACnE,KAAL,CAAWqL,KAAvE;AAEAD,MAAAA,kBAAkB;AAElB,UAAIE,OAAO,GAAGC,kBAAkB,CAACpH,IAAD,CAAhC;AACAqE,MAAAA,QAAQ,CAACgD,IAAT,CAAcC,WAAd,CAA0BH,OAA1B;AACD;AACF,GA1DD;AA2DD;;AAED,SAASF,kBAAT,GAA8B;AAC5B,MAAIE,OAAO,GAAG9C,QAAQ,CAACC,cAAT,CAAwBG,UAAxB,CAAd;;AACA,MAAI0C,OAAJ,EAAa;AACXA,IAAAA,OAAO,CAACrQ,MAAR;AACD;AACF;;AAED,SAASsQ,kBAAT,CAA4BpH,IAA5B,EAAkC;AAChC,MAAImH,OAAO,GAAG9C,QAAQ,CAACkD,aAAT,CAAuB,KAAvB,CAAd;AACAJ,EAAAA,OAAO,CAAClR,EAAR,GAAawO,UAAb,CAFgC,CAIhC;;AACA,MAAIxI,OAAO,GAAGoI,QAAQ,CAACkD,aAAT,CAAuB,KAAvB,CAAd;AACA,MAAIC,UAAU,GAAGnD,QAAQ,CAACkD,aAAT,CAAuB,KAAvB,CAAjB;AACAtL,EAAAA,OAAO,CAACwL,SAAR,GAAoBzH,IAAI,CAACnE,KAAL,CAAWI,OAA/B;AACAuL,EAAAA,UAAU,CAACC,SAAX,GAAuBzH,IAAI,CAACnE,KAAL,CAAWqL,KAAlC;AAEAC,EAAAA,OAAO,CAAC1E,SAAR,GACE,2NACE,mFADF,GAEE,yEAFF,GAGE,qEAHF,GAG0ExG,OAAO,CAACwG,SAHlF,GAG8F,QAH9F,GAIE,OAJF,GAIY+E,UAAU,CAAC/E,SAJvB,GAImC,QAJnC,GAKA,QANF;AASA,SAAO0E,OAAP;AAED;;AAED,SAASO,UAAT,CAAoB/C,MAApB,EAA4B1O,EAA5B,EAAgC;AAC9B,MAAI0R,OAAO,GAAGhD,MAAM,CAACgD,OAArB;;AACA,MAAI,CAACA,OAAL,EAAc;AACZ,WAAO,EAAP;AACD;;AAED,MAAIC,OAAO,GAAG,EAAd;AACA,MAAIC,CAAJ,EAAOC,CAAP,EAAUC,GAAV;;AAEA,OAAKF,CAAL,IAAUF,OAAV,EAAmB;AACjB,SAAKG,CAAL,IAAUH,OAAO,CAACE,CAAD,CAAP,CAAW,CAAX,CAAV,EAAyB;AACvBE,MAAAA,GAAG,GAAGJ,OAAO,CAACE,CAAD,CAAP,CAAW,CAAX,EAAcC,CAAd,CAAN;;AACA,UAAIC,GAAG,KAAK9R,EAAR,IAAeG,KAAK,CAACC,OAAN,CAAc0R,GAAd,KAAsBA,GAAG,CAACA,GAAG,CAAClR,MAAJ,GAAa,CAAd,CAAH,KAAwBZ,EAAjE,EAAsE;AACpE2R,QAAAA,OAAO,CAAClM,IAAR,CAAamM,CAAb;AACD;AACF;AACF;;AAED,MAAIlD,MAAM,CAACW,MAAX,EAAmB;AACjBsC,IAAAA,OAAO,GAAGA,OAAO,CAACrO,MAAR,CAAemO,UAAU,CAAC/C,MAAM,CAACW,MAAR,EAAgBrP,EAAhB,CAAzB,CAAV;AACD;;AAED,SAAO2R,OAAP;AACD;;AAED,SAASjB,QAAT,CAAkBhC,MAAlB,EAA0BsB,KAA1B,EAAiC;AAC/B,MAAI0B,OAAO,GAAGhD,MAAM,CAACgD,OAArB;;AACA,MAAI,CAACA,OAAL,EAAc;AACZ;AACD;;AAED,MAAIA,OAAO,CAAC1B,KAAK,CAAChQ,EAAP,CAAP,IAAqB,CAAC0O,MAAM,CAACW,MAAjC,EAAyC;AACvC,QAAIhN,EAAE,GAAG,IAAIU,QAAJ,CAAa,SAAb,EAAwB,QAAxB,EAAkC,SAAlC,EAA6CiN,KAAK,CAACO,SAAN,CAAgBC,EAA7D,CAAT;AACAR,IAAAA,KAAK,CAACC,KAAN,GAAc,CAACyB,OAAO,CAAC1B,KAAK,CAAChQ,EAAP,CAAtB;AACA0R,IAAAA,OAAO,CAAC1B,KAAK,CAAChQ,EAAP,CAAP,GAAoB,CAACqC,EAAD,EAAK2N,KAAK,CAAC+B,IAAX,CAApB;AACD,GAJD,MAIO,IAAIrD,MAAM,CAACW,MAAX,EAAmB;AACxBqB,IAAAA,QAAQ,CAAChC,MAAM,CAACW,MAAR,EAAgBW,KAAhB,CAAR;AACD;AACF;;AAED,SAASG,cAAT,CAAwBzB,MAAxB,EAAgC1O,EAAhC,EAAoC;AAClC,MAAI0R,OAAO,GAAGhD,MAAM,CAACgD,OAArB;;AACA,MAAI,CAACA,OAAL,EAAc;AACZ;AACD;;AAED,MAAI,CAACA,OAAO,CAAC1R,EAAD,CAAR,IAAgB0O,MAAM,CAACW,MAA3B,EAAmC;AACjC,WAAOc,cAAc,CAACzB,MAAM,CAACW,MAAR,EAAgBrP,EAAhB,CAArB;AACD;;AAED,MAAImP,aAAa,CAACnP,EAAD,CAAjB,EAAuB;AACrB;AACD;;AACDmP,EAAAA,aAAa,CAACnP,EAAD,CAAb,GAAoB,IAApB;AAEA,MAAIgS,MAAM,GAAGtD,MAAM,CAACuD,KAAP,CAAajS,EAAb,CAAb;AAEAoP,EAAAA,cAAc,CAAC3J,IAAf,CAAoB,CAACiJ,MAAD,EAAS1O,EAAT,CAApB;;AAEA,MAAIgS,MAAM,IAAIA,MAAM,CAACnD,GAAjB,IAAwBmD,MAAM,CAACnD,GAAP,CAAWE,gBAAX,CAA4BnO,MAAxD,EAAgE;AAC9D,WAAO,IAAP;AACD;;AAED,SAAO6Q,UAAU,CAACrB,MAAM,CAACC,aAAR,EAAuBrQ,EAAvB,CAAV,CAAqCkS,IAArC,CAA0C,UAAUlS,EAAV,EAAc;AAC7D,WAAOmQ,cAAc,CAACC,MAAM,CAACC,aAAR,EAAuBrQ,EAAvB,CAArB;AACD,GAFM,CAAP;AAGD;;AAED,SAAS4Q,YAAT,CAAsBlC,MAAtB,EAA8B1O,EAA9B,EAAkC;AAChC,MAAIgS,MAAM,GAAGtD,MAAM,CAACuD,KAAP,CAAajS,EAAb,CAAb;AACA0O,EAAAA,MAAM,CAACI,OAAP,GAAiB,EAAjB;;AACA,MAAIkD,MAAJ,EAAY;AACVA,IAAAA,MAAM,CAACnD,GAAP,CAAW9E,IAAX,GAAkB2E,MAAM,CAACI,OAAzB;AACD;;AAED,MAAIkD,MAAM,IAAIA,MAAM,CAACnD,GAAjB,IAAwBmD,MAAM,CAACnD,GAAP,CAAWG,iBAAX,CAA6BpO,MAAzD,EAAiE;AAC/DoR,IAAAA,MAAM,CAACnD,GAAP,CAAWG,iBAAX,CAA6Be,OAA7B,CAAqC,UAAUoC,EAAV,EAAc;AACjDA,MAAAA,EAAE,CAACzD,MAAM,CAACI,OAAR,CAAF;AACD,KAFD;AAGD;;AAED,SAAOJ,MAAM,CAACuD,KAAP,CAAajS,EAAb,CAAP;AACA0O,EAAAA,MAAM,CAAC1O,EAAD,CAAN;AAEAgS,EAAAA,MAAM,GAAGtD,MAAM,CAACuD,KAAP,CAAajS,EAAb,CAAT;;AACA,MAAIgS,MAAM,IAAIA,MAAM,CAACnD,GAAjB,IAAwBmD,MAAM,CAACnD,GAAP,CAAWE,gBAAX,CAA4BnO,MAAxD,EAAgE;AAC9DoR,IAAAA,MAAM,CAACnD,GAAP,CAAWE,gBAAX,CAA4BgB,OAA5B,CAAoC,UAAUoC,EAAV,EAAc;AAChDA,MAAAA,EAAE;AACH,KAFD;;AAGA,WAAO,IAAP;AACD;AACF","file":"demo.d3b53871.js","sourceRoot":"../demo","sourcesContent":["let idVar = -1\n\nmodule.exports = {\n  clone: function(obj) {\n    obj = JSON.parse(JSON.stringify(obj));\n    return obj\n  },\n  id: function() {\n    idVar++\n    return idVar\n  },\n  objectTypeValidate: function(obj, type) {\n    switch (type) {\n      case \"array\":\n        if (Array.isArray(obj)) {} else {\n          if (!obj) {\n            obj = [];\n          } else {\n            obj = [obj];\n          }\n        }\n        break;\n      case \"object\":\n        if (typeof obj === 'object' && obj !== null && !Array.isArray(obj)) {} else {\n          obj = {}\n        }\n        break;\n    }\n    return obj\n  },\n  update: function(obj1, obj2) {\n    obj1 = this.clone(obj1)\n    obj2 = this.clone(obj2)\n    const compareRecursive = function(obj1, obj2) {\n      for (let key in obj2) {\n        if (typeof obj2[key] === 'object' && Object.keys(obj2[key]).length > 0) {\n          if(!obj1[key]){\n            obj1[key]={}\n          }\n          compareRecursive(obj1[key], obj2[key])\n        } else if (obj2[key]) {\n          obj1[key] = obj2[key]\n        }\n      }\n    }\n    compareRecursive(obj1, obj2)\n    return obj1\n  },\n  remove: function(obj1, obj2) {\n    obj1 = this.clone(obj1)\n    obj2 = this.clone(obj2)\n    const compareRecursive = function(obj1, obj2) {\n      for (let key in obj2) {\n        if (obj2[key] === false) {\n          delete obj1[key]\n        } else if (typeof obj2[key] === 'object' && Object.keys(obj2[key]).length > 0) {\n          compareRecursive(obj1[key], obj2[key])\n        }\n      }\n    }\n    compareRecursive(obj1, obj2)\n    return obj1\n  },\n  compare: function(obj1, obj2) {\n    //console.log(obj1, obj2)\n    obj1 = this.clone(obj1)\n    obj2 = this.clone(obj2)\n    let obj = {\n      updated: {},\n      removed: {},\n      added: {}\n    };\n    const compareRecursive = function(obj1, obj2, updated, removed, added) {\n      for (let key in obj2) {\n        if (Array.isArray(obj1[key])) {\n          let diff = obj2[key].filter(x => !obj1[key].includes(x));\n          let invDiff = obj1[key].filter(x => !obj2[key].includes(x));\n          if (diff.length > 0 || invDiff > 0) {\n            added[key] = diff\n            removed[key] = invDiff\n            updated[key] = obj2[key]\n          }\n        } else {\n          if (obj2[key] === obj1[key]) {} else if (typeof obj1[key] === 'object' && obj1[key] !== null && Object.keys(obj1[key]).length > 0) {\n            if (!updated[key]) {\n              updated[key] = {}\n            }\n            if (!removed[key]) {\n              removed[key] = {}\n            }\n            if (!added[key]) {\n              added[key] = {}\n            }\n            compareRecursive(obj1[key], obj2[key], updated[key], removed[key], added[key])\n          } else if (obj1[key]) {\n            updated[key] = obj2[key]\n            removed[key] = obj1[key]\n            //delete obj1[key]\n          } else {\n            updated[key] = obj2[key]\n            added[key] = obj2[key]\n          }\n        }\n      }\n    }\n    const removeRecursive = function (obj1, obj2, removed){\n      for (let key in obj1) {\n        if(!obj2[key]){\n          removed[key] = obj1[key]\n        } else if (typeof obj1[key] === 'object' && obj1[key] !== null && Object.keys(obj1[key]).length > 0) {\n          removeRecursive(obj1[key], obj2[key], removed[key])\n        }\n      }\n    }\n    compareRecursive(obj1, obj2, obj.updated, obj.removed, obj.added)\n    removeRecursive(obj1, obj2, obj.removed)\n    return obj;\n  },\n  prune: function(obj, schema) {\n    let output = {}\n    const compareRecursive = function(obj, schema, output) {\n      for (let key in schema) {\n        let option = schema[key];\n        let defaultData = \"\";\n        if (schema[key].type || schema[key].default) {\n          option = schema[key].type\n          if (schema[key].default) {\n            defaultData = schema[key].default\n          }\n        }\n        if (obj && typeof option === 'object' && obj[key] !== null && Object.keys(obj).length > 0) {\n          output[key] = {}\n          compareRecursive(obj[key], schema[key], output[key])\n        }\n        if (defaultData && !obj[key]) {\n          output[key] = defaultData;\n        } else if (obj) {\n          switch (option) {\n            case String:\n              //console.log(obj[key]);\n              if (typeof obj[key] === \"string\") {\n                output[key] = obj[key]\n              }\n              break;\n            case Number:\n              if (typeof obj[key] === \"number\") {\n                output[key] = obj[key]\n              }\n              break;\n            case Boolean:\n              if (typeof obj[key] === \"boolean\") {\n                output[key] = obj[key]\n              }\n              break;\n            case Array:\n              if (Array.isArray(obj[key])) {\n                output[key] = obj[key]\n              }\n              break;\n          }\n        }\n      }\n    }\n    compareRecursive(obj, schema, output)\n    return output\n  },\n  query: function(obj, query) {\n    let result = true\n    const compareRecursive = function(o, q) {\n      for (let key in q) {\n        if (typeof q[key] === 'object' && Object.keys(q[key]).length > 0) {\n          compareRecursive(o[key], q[key])\n        } else if (o[key] !== q[key]) {\n          result = false\n        }\n      }\n    }\n    compareRecursive(obj, query)\n    return result\n  }\n}\n","const fn = require('./lib.js');\n\nclass schema {\n  constructor(obj) {\n    this.obj = obj\n  }\n  prune(pruneobj) {\n    return fn.prune(pruneobj, this.obj)\n  }\n}\n\nmodule.exports = schema\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n    var errorListener;\n\n    // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}\n","const events = require('events');\nconst fn = require('./lib.js');\n\nclass model {\n  constructor(obj) {\n    this.obj = fn.clone(obj)\n    this.event = new events.EventEmitter()\n    this.change = {}\n    if (obj._id) {\n      this.id = obj._id\n    } else {\n      this.id = fn.id();\n    }\n  }\n  update(addObj) {\n    if (addObj) {\n      this.previousObj = fn.clone(this.obj)\n      this.obj = fn.update(this.previousObj, addObj)\n      if (this.schema) {\n        this.obj = this.schema.prune(this.obj)\n      }\n      this.change = fn.compare(this.previousObj, this.obj)\n      this.event.emit('update', this);\n    }\n  }\n  remove(removeObj) {\n    // to remove key from object\n    if (removeObj) {\n      this.previousObj = fn.clone(this.obj)\n      this.obj = fn.remove(this.previousObj, removeObj)\n      if (this.schema) {\n        this.obj = this.schema.prune(this.obj)\n      }\n      this.change = fn.compare(this.previousObj, this.obj)\n      this.event.emit('remove', this);\n    }\n  }\n  destroy() {\n    // destory model\n    this.event.emit('destroy');\n  }\n  detach() {\n    console.log(\"detching from model\")\n  }\n  save() {\n    // save model (if not autosaving)\n    this.event.emit('save');\n  }\n  load() {\n    // load from remote server (if not autloading)\n    this.event.emit('load');\n  }\n}\n\nmodule.exports = model\n","const events = require('events');\nconst fn = require('./lib.js');\n\nclass collection {\n  constructor(obj, data) {\n    this.event = new events.EventEmitter()\n    if (data) {\n      if (data.url) {\n        this.url = data.url\n      }\n      if (data.schema) {\n        this.schema = data.schema\n      }\n    }\n    this.id = fn.id()\n    this.obj = []\n    for (let i of fn.objectTypeValidate(obj, \"array\")){\n      this.listeners(i)\n    }\n\n  }\n  add(addObj) {\n    this.listeners(addObj)\n    this.event.emit('add', this.obj, addObj);\n  }\n  listeners(addObj){\n    let self = this\n    // add loop to cover array of models\n    if (this.schema) {\n      addObj.schema = this.schema\n      addObj.obj = this.schema.prune(addObj.obj)\n    }\n    function updateEvent(data) {\n      self.event.emit('update', data);\n    }\n\n    function removeEvent(data) {\n      self.event.emit('remove', data);\n    }\n\n    function destroyEvent(data) {\n      self.event.emit('destroy', data);\n    }\n\n    function loadEvent(data) {\n      self.event.emit('load', data);\n    }\n\n    function saveEvent(data) {\n      self.event.emit('save', data);\n    }\n\n    function detachEvent(collection) {\n      if (collection === self) {\n        addObj.event.removeListener('update', updateEvent)\n        addObj.event.removeListener('remove', removeEvent)\n        addObj.event.removeListener('destroy', destroyEvent)\n        addObj.event.removeListener('load', loadEvent)\n        addObj.event.removeListener('save', saveEvent)\n        addObj.event.removeListener('detach', detachEvent)\n        addObj.schema = {}\n      }\n    };\n    addObj.event.addListener('update', updateEvent);\n    addObj.event.addListener('remove', removeEvent);\n    addObj.event.addListener('destroy', destroyEvent);\n    addObj.event.addListener('load', loadEvent)\n    addObj.event.addListener('save', saveEvent);\n    addObj.event.addListener('detach', detachEvent);\n    this.obj = this.obj.concat(fn.objectTypeValidate(addObj, \"array\"))\n  }\n  update(updateObj, query) {\n    // to add the same update to all models - bulk\n    for (let i of this.obj) {\n      if (!query || fn.query(i.obj, query)) {\n        i.update(updateObj)\n      }\n    }\n  }\n  remove(removeObj, query) {\n    // to remove the same update to all models - bulk\n    for (let i of this.obj) {\n      if (!query || fn.query(i.obj, query)) {\n        i.remove(removeObj)\n      }\n    }\n  }\n  detach(model) {\n    // detach all listeners from collection for model\n    if (model) {\n      model.event.emit('detach', this);\n      this.event.emit(\"detach\", model)\n    } else {\n      console.log(\"no model to detach from collection\")\n    }\n  }\n  findAndDetach(query) {\n    // run a query to then detach each matching model\n    for (let i of this.obj) {\n      if (Object.keys(query).length > 0 && fn.query(i.obj, query)) {\n        this.detach(i)\n      }\n    }\n  }\n  destroyCollection() {\n    // destroy collection\n    this.event.emit('destroyCollection');\n  }\n  save() {\n    // save collection (if not autosaving)\n    this.event.emit('save');\n  }\n  load() {\n    // load from remote server (if not autloading)\n    this.event.emit('load');\n  }\n  models() {\n    return this.obj.map(x => x.obj);\n  }\n}\n\nmodule.exports = collection\n","const events = require('events');\nconst fn = require('./lib.js');\n\nclass controller {\n  constructor(obj) {\n    this.views = []\n    this.event = new events.EventEmitter()\n    let self = this\n    this.obj = obj\n    this.type = obj.constructor.name\n    obj.event.addListener('update', function(data) {\n      self.view_push('update', data)\n      self.update(data, self.obj.obj)\n    })\n    obj.event.addListener('add', function(data) {\n      self.view_push('add', data)\n      self.add(data, self.obj.obj)\n    })\n    obj.event.addListener('remove', function(data) {\n      self.view_push('remove', data)\n      self.remove(data, self.obj.obj)\n    })\n    obj.event.addListener('destroy', function() {\n      self.view_push('destroy')\n      self.destroy()\n    })\n    obj.event.addListener('detach', function(data) {\n      self.view_push('detach', data)\n      self.detach(data)\n    })\n    /*obj.event.addListener('detached', function() {\n      self.detached()\n    })*/\n    obj.event.addListener('destroyCollection', function() {\n      self.view_push('destroyCollection')\n      self.destroyCollection()\n    })\n    obj.event.addListener('load', function() {\n      self.view_push('load')\n      self.load()\n    })\n    obj.event.addListener('save', function() {\n      self.view_push('save')\n      self.save()\n    })\n  }\n  view_push(event){\n    for (let i of this.views){\n      i.propsUpdate(event)\n    }\n  }\n  addView(view){\n    this.views.push(view)\n    view.propsUpdate()\n  }\n  removeView(view){\n    this.views.splice(this.views.indexOf(view), 1)\n  }\n  collection() {\n    return this.obj.obj\n  }\n  update(data, changedata, obj) {\n    switch (this.type) {\n      case \"model\":\n        console.log(\"model update (default controller)\")\n        break;\n      case \"collection\":\n        console.log(\"collection update (default controller)\")\n        break;\n    }\n  }\n  add(data, changedata, obj) {\n    switch (this.type) {\n      case \"model\":\n        console.log(\"model add (default controller)\")\n        break;\n      case \"collection\":\n        console.log(\"collection add (default controller)\")\n        break;\n    }\n  }\n  remove(data, changedata, obj) {\n    switch (this.type) {\n      case \"model\":\n        console.log(\"model remove (default controller)\")\n        break;\n      case \"collection\":\n        console.log(\"collection remove (default controller)\")\n        break;\n    }\n  }\n  destroy(data, changedata) {\n    switch (this.type) {\n      case \"model\":\n        console.log(\"model destroy (Model) (default controller)\")\n        break;\n      case \"collection\":\n        console.log(\"collection destroy (Model) (default controller)\")\n        break;\n    }\n  }\n  detach(data) {\n    switch (this.type) {\n      case \"model\":\n        console.log(\"model detach (Model) (default controller)\")\n        break;\n      case \"collection\":\n        console.log(\"collection detach (Model) (default controller)\")\n        break;\n    }\n  }\n  destroyCollection(data, changedata) {\n    console.log(\"collection destroy (Collection) (default controller)\")\n  }\n  load(data, changedata) {\n    switch (this.type) {\n      case \"model\":\n        console.log(\"model load (default controller)\")\n        break;\n      case \"collection\":\n        console.log(\"collection load (default controller)\")\n        break;\n    }\n  }\n  save(data, changedata) {\n    switch (this.type) {\n      case \"model\":\n        console.log(\"model save (default controller)\")\n        break;\n      case \"collection\":\n        console.log(\"collection save (default controller)\")\n        break;\n    }\n  }\n}\nmodule.exports = controller\n","const events = require('events');\nconst fn = require('./lib.js');\n\nclass view {\n  constructor(el, controller) {\n    this.el = el;\n    this.id = fn.id()\n    this.controller = controller\n    this.type = controller.type\n    this.list = this.el.querySelectorAll(\"[bi]\")\n    this.props = []\n    this.view_collection = []\n    //if (this.type === \"collection\") {}\n    for (let i = 0; i < this.list.length; i++) {\n      this.props.push(this.list[i].attributes.bi.value)\n    }\n    this.addView()\n    this.listen()\n  }\n  addView() {\n    this.controller.addView(this)\n  }\n  removeView() {\n    this.controller.removeView(this)\n    //this.stopListen()\n  }\n  propsUpdate(event) {\n    for (let i = 0; i < this.props.length; i++) {\n      let prop = this.props[i].split(\".\")\n      try {\n        let result = this.controller.obj.obj\n        for (let p = 0; p < prop.length; p++) {\n          result = result[prop[p]]\n        }\n        this.viewUpdate(this.props[i], result)\n      } catch (err) {\n        console.log(err)\n      }\n    }\n  }\n  viewUpdate(prop, result) {\n    for (let p of this.list) {\n      if (p.getAttribute(\"bi\") === prop) {\n        switch (p.tagName) {\n          case \"DIV\":\n            if (p.innerHTML !== result) {\n              p.innerHTML = result\n            }\n            break;\n          case \"SELECT\":\n          case \"TEXTAREA\":\n            if (p.value !== result) {\n              p.value = result\n            }\n            break;\n          case \"INPUT\":\n            switch (p.getAttribute(\"type\")) {\n              case \"text\":\n                if (p.value !== result) {\n                  p.value = result\n                }\n                break;\n              case \"radio\":\n                //fix this\n                break;\n            }\n            break\n        }\n      }\n    }\n  }\n  /*stopListen(){\n    for (let p of this.list) {\n      p.removeEventListener(\"input\", checkAndUpdate)\n    }\n  }*/\n  listen() {\n    let self = this\n    for (let p of this.list) {\n      let checkAndUpdate = function() {\n        //console.log(\"here\")\n        let obj = {}\n        let props = p.getAttribute(\"bi\").split(\".\")\n        let o = obj;\n        for (let i = 0; i < props.length; i++) {\n          let end = {}\n          if (i + 1 === props.length) {\n            end = p.value\n          }\n          o = o[props[i]] = end;\n        }\n        self.controller.obj.update(obj)\n      }\n      switch (p.tagName) {\n        case \"SELECT\":\n        case \"TEXTAREA\":\n          p.addEventListener(\"input\", checkAndUpdate)\n          break;\n        case \"INPUT\":\n          switch (p.getAttribute(\"type\")) {\n            case \"text\":\n              p.addEventListener(\"input\", checkAndUpdate)\n              break;\n            case \"radio\":\n              console.log(p)\n              p.addEventListener(\"change\", function() {\n                console.log(p.value)\n              })\n            default:\n\n          }\n          break\n      }\n    }\n  }\n}\n\nmodule.exports = view\n","const schema = require('./schema.js');\nconst model = require('./model.js');\nconst collection = require('./collection.js');\nconst controller = require('./controller.js');\nconst view = require('./view.js');\n\nmodule.exports = {\n  schema: schema,\n  model: model,\n  collection: collection,\n  controller: controller,\n  view : view\n}\n","const mvc = require(\"../bipartite.js\")\n\nconst schemaObj = {\n  fruit: String,\n  name: String,\n  place: {\n    type: String,\n    default: \"this place\"\n  },\n  defaulPlace: {\n    type: String,\n    default: \"default place\"\n  },\n  list: Array,\n  truthy: Boolean,\n  untruthy: Boolean,\n  recursive: {\n    recursivething: String,\n    recursivestr: String,\n    recursive: {\n      recursivething: String,\n      recursivestr: String\n    }\n  }\n}\n\nconst data = {\n  url: \"www.google.com\",\n  schema: new mvc.schema(schemaObj)\n}\n\nconst obj2 = {\n  name: \"ted\",\n  place: \"over here\",\n  wrongplace: \"should not be here\",\n  list: [\"jjhjh\", \"trtrtr\"],\n  truthy: false,\n  untruthy: \"true\",\n  recursive: {\n    recursivething: \"blah\",\n    recursivestr: 6,\n    recursive: {\n      recursivething: \"blah\",\n      recursivestr: \"dsfd\"\n    }\n  }\n}\n\nconst obj3 = {\n  name: \"billy bob jimbo\",\n  place: \"over and away\",\n  wrongplace: \"should not be here\",\n  list: [\"jjhjssssh\", \"trtrtr\"],\n  truthy: true,\n  untruthy: \"kss\",\n  recursive: {\n    recursivething: \"hghghghg\",\n    recursivestr: 8,\n    recursive: {\n      recursivething: \"sdd\",\n      recursivestr: \"aaaa\"\n    }\n  }\n}\n\nlet modelObj2 = new mvc.model(obj2)\nlet modelObj3 = new mvc.model(obj3)\nlet modelController = new mvc.controller(modelObj2)\n\n\nmodelController.update = function(model) {\n  switch (this.type) {\n    case \"model\":\n      console.log(\"model update (set in controller)\")\n      break;\n    case \"collection\":\n      console.log(\"collection update (set in controller)\")\n      break;\n  }\n}\n\nmodelController.add = function(model) {\n  switch (this.type) {\n    case \"model\":\n      console.log(\"model added (set in controller)\")\n      break;\n    case \"collection\":\n      console.log(\"collection added (set in controller)\")\n      break;\n  }\n}\n\nmodelController.remove = function(model) {\n  switch (this.type) {\n    case \"model\":\n      console.log(\"model removed (set in controller)\")\n      break;\n    case \"collection\":\n      console.log(\"collection removed (set in controller)\")\n      break;\n  }\n}\n\nlet collectionObj = new mvc.collection(null, data)\nlet controller2 = new mvc.controller(collectionObj)\n\ncontroller2.add = function(model) {\n  switch (this.type) {\n    case \"model\":\n      console.log(\"model add (set in controller)\")\n      break;\n    case \"collection\":\n      console.log(\"collection add (set in controller)\")\n      //console.log(model)\n      break;\n  }\n}\ncontroller2.update = function(model) {\n  switch (this.type) {\n    case \"model\":\n      console.log(\"model update (set in controller)\")\n      //console.log(model.obj)\n      break;\n    case \"collection\":\n      console.log(\"collection update (set in controller)\")\n      //console.log(model.obj)\n      //console.log(model.obj);\n      //console.log(this.obj)\n      break;\n  }\n}\ncontroller2.remove = function(model) {\n  switch (this.type) {\n    case \"model\":\n      console.log(\"model remove (set in controller)\")\n      break;\n    case \"collection\":\n      console.log(\"collection remove (set in controller)\")\n      break;\n  }\n}\n\ncontroller2.detach = function(model) {\n  switch (this.type) {\n    case \"model\":\n      console.log(\"model detach (set in controller)\")\n      break;\n    case \"collection\":\n      console.log(\"Model: \" + model.id + \" removed from collection: \" + this.obj.id)\n      break;\n  }\n}\n\ncollectionObj.add(modelObj2)\ncollectionObj.add(modelObj3)\n\nlet updateObj = {\n  fruit: \"orange\",\n  name: \"bob\",\n  recursive: {\n    recursivething: \"fflah\",\n    recursivestr: 2,\n    recursive: {\n      recursivestr: \"dsfffd\"\n    }\n  }\n}\n\nlet removeObj = {\n  fruit: false,\n  recursive: {\n    recursivething: false,\n    recursive: {\n      recursivestr: false\n    }\n  }\n}\n\nlet query = {\n  name: \"bob\",\n  recursive: {\n    recursivething: \"fflah\",\n    recursivestr: 3\n  }\n}\n\nlet detachQuery = {\n  fruit: \"orange\"\n}\n\ncollectionObj.update(updateObj)\ncollectionObj.update(updateObj, query)\ncollectionObj.remove(removeObj)\ncollectionObj.detach()\ncollectionObj.findAndDetach(detachQuery)\ncollectionObj.update(updateObj)\ncollectionObj.destroyCollection()\ncollectionObj.load()\ncollectionObj.save()\n\n\nmodelObj2.update({\n  list: [\"jjhjh\", \"jjddddhjh\", \"trtjrtr\", \"gfgfgfffgf\"],\n  fruit: \"apple\",\n  name: \"jim\",\n  more: {\n    thing: \"no\",\n    otherthing: \"kaaakj\",\n    newthing: \"jsjsj\",\n    list: [\"more jjhjh\", \"more trtrtr\"]\n  }\n})\n\nmodelObj2.update({\n  fruit: \"orange\",\n  name: \"bob\",\n  recursive: {\n    recursivething: \"fflah\",\n    recursivestr: 2,\n    recursive: {\n      recursivestr: \"dsfffd\"\n    }\n  }\n})\n\n\n\nmodelObj2.remove()\nmodelObj2.destroy()\nmodelObj2.load()\nmodelObj2.save()\n\nwindow.addEventListener('load', function() {\n  //alert(\"It's loaded!\")\n\n  el = document.getElementById(\"viewdemo\")\n  elForm = document.getElementById(\"viewdemoform\")\n  //console.log(el)\n\n  if (el) {\n    let view = new mvc.view(el, modelController)\n    let view2 = new mvc.view(elForm, modelController)\n  }\n\n  modelObj2.update({\n    list: [\"jjhjh\", \"jjddddhjh\", \"trtjrtr\", \"gfgfgfffgf\"],\n    fruit: \"apple\",\n    name: \"jim\",\n    more: {\n      thing: \"no\",\n      otherthing: \"kaaakj\",\n      newthing: \"jsjsj\",\n      list: [\"more jjhjh\", \"more trtrtr\"]\n    }\n  })\n\n})\n//console.log(collectionObj.models())\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}