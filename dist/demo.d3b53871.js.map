{"version":3,"sources":["../lib.js","../schema.js","../../../.nvm/versions/node/v14.4.0/lib/node_modules/parcel-bundler/node_modules/events/events.js","../model.js","../collection.js","../controller.js","../bipartite.js","demo.js","../../../.nvm/versions/node/v14.4.0/lib/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["idVar","module","exports","clone","obj","JSON","parse","stringify","id","objectTypeValidate","type","Array","isArray","remove","obj1","obj2","updated","removed","added","compareRecursive","key","Object","keys","length","compare","diff","filter","x","includes","invDiff","prune","schema","output","option","defaultData","default","String","Number","Boolean","query","result","o","q","fn","require","pruneobj","R","Reflect","ReflectApply","apply","target","receiver","args","Function","prototype","call","ReflectOwnKeys","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","concat","ProcessEmitWarning","warning","console","warn","NumberIsNaN","isNaN","value","EventEmitter","init","once","_events","undefined","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","defineProperty","enumerable","get","set","arg","RangeError","getPrototypeOf","create","setMaxListeners","n","_getMaxListeners","that","getMaxListeners","emit","i","arguments","push","doError","events","error","er","Error","err","message","context","handler","len","listeners","arrayClone","_addListener","prepend","m","existing","newListener","unshift","warned","w","name","emitter","count","addListener","on","prependListener","onceWrapper","fired","removeListener","wrapFn","_onceWrap","state","wrapped","bind","prependOnceListener","list","position","originalListener","shift","spliceOne","off","removeAllListeners","_listeners","unwrap","evlistener","unwrapListeners","rawListeners","listenerCount","eventNames","arr","copy","index","pop","ret","Promise","resolve","reject","eventListener","errorListener","slice","model","event","change","_id","addObj","previousObj","removeObj","log","collection","data","url","self","updateEvent","removeEvent","destroyEvent","loadEvent","saveEvent","detachEvent","updateObj","update","detach","map","controller","constructor","add","destroy","destroyCollection","load","save","changedata","mvc","schemaObj","fruit","place","defaulPlace","truthy","untruthy","recursive","recursivething","recursivestr","wrongplace","obj3","modelObj2","modelObj3","modelController","collectionObj","controller2","detachQuery","findAndDetach","more","thing","otherthing","newthing","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","stack","overlay","createErrorOverlay","document","body","appendChild","getElementById","createElement","stackTrace","innerText","innerHTML","getParents","modules","parents","k","d","dep","deps","cached","cache","some","cb"],"mappings":"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","file":"demo.d3b53871.js","sourceRoot":"../demo","sourcesContent":["let idVar = -1\n\nmodule.exports = {\n  clone: function(obj) {\n    obj = JSON.parse(JSON.stringify(obj));\n    return obj\n  },\n  id: function() {\n    idVar++\n    return idVar\n  },\n  objectTypeValidate: function(obj, type) {\n    switch (type) {\n      case \"array\":\n        if (Array.isArray(obj)) {} else {\n          if (!obj) {\n            obj = [];\n          } else {\n            obj = [obj];\n          }\n        }\n        break;\n      case \"object\":\n        if (typeof obj === 'object' && obj !== null) {} else {\n          obj = {}\n        }\n        break;\n    }\n    return obj\n  },\n  remove: function(obj1, obj2) {\n    let obj = {\n      updated: {},\n      removed: {},\n      added: {}\n    };\n    const compareRecursive = function(obj1, obj2, removed) {\n      for (let key in obj2) {\n        if (obj2[key] === false) {\n          removed[key] = obj1[key]\n          delete obj1[key]\n        } else if (typeof obj2[key] === 'object' && Object.keys(obj2[key]).length > 0) {\n          removed[key] = {}\n          compareRecursive(obj1[key], obj2[key], obj.removed[key])\n        }\n      }\n    }\n    compareRecursive(obj1, obj2, obj.removed)\n    return obj;\n  },\n  compare: function(obj1, obj2) {\n    let obj = {\n      updated: {},\n      removed: {},\n      added: {}\n    };\n    const compareRecursive = function(obj1, obj2, updated, removed, added) {\n      for (let key in obj2) {\n        if (Array.isArray(obj1[key])) {\n          let diff = obj2[key].filter(x => !obj1[key].includes(x));\n          let invDiff = obj1[key].filter(x => !obj2[key].includes(x));\n          if (diff.length > 0 || invDiff > 0) {\n            added[key] = diff\n            removed[key] = invDiff\n            updated[key] = obj2[key]\n          }\n        } else {\n          if (obj2[key] === obj1[key]) {} else if (typeof obj1[key] === 'object' && obj1[key] !== null && Object.keys(obj1[key]).length > 0) {\n            if (!updated[key]) {\n              updated[key] = {}\n            }\n            if (!removed[key]) {\n              removed[key] = {}\n            }\n            if (!added[key]) {\n              added[key] = {}\n            }\n            compareRecursive(obj1[key], obj2[key], updated[key], removed[key], added[key])\n          } else if (obj1[key]) {\n            updated[key] = obj2[key]\n            removed[key] = obj1[key]\n          } else {\n            updated[key] = obj2[key]\n            added[key] = obj2[key]\n          }\n        }\n      }\n      removed = obj1\n    }\n    compareRecursive(obj1, obj2, obj.updated, obj.removed, obj.added)\n    return obj;\n  },\n  prune: function(obj, schema) {\n    let output = {}\n    const compareRecursive = function(obj, schema, output) {\n      for (let key in schema) {\n        let option = schema[key];\n        let defaultData = \"\";\n        if (schema[key].type || schema[key].default) {\n          option = schema[key].type\n          if (schema[key].default) {\n            defaultData = schema[key].default\n          }\n        }\n        if (obj && typeof option === 'object' && obj[key] !== null && Object.keys(obj).length > 0) {\n          output[key] = {}\n          compareRecursive(obj[key], schema[key], output[key])\n        }\n        if (defaultData && !obj[key]) {\n          output[key] = defaultData;\n        } else if (obj){\n          switch (option) {\n            case String:\n              //console.log(obj[key]);\n              if (typeof obj[key] === \"string\") {\n                output[key] = obj[key]\n              }\n              break;\n            case Number:\n              if (typeof obj[key] === \"number\") {\n                output[key] = obj[key]\n              }\n              break;\n            case Boolean:\n              if (typeof obj[key] === \"boolean\") {\n                output[key] = obj[key]\n              }\n              break;\n            case Array:\n              if (Array.isArray(obj[key])) {\n                output[key] = obj[key]\n              }\n              break;\n          }\n        }\n      }\n    }\n    compareRecursive(obj.obj, schema, output)\n    obj.obj = output\n    return obj\n  },\n  query: function(obj, query){\n    let result = true\n    const compareRecursive = function(o, q) {\n      for (let key in q) {\n        if (typeof q[key] === 'object' && Object.keys(q[key]).length > 0) {\n          compareRecursive(o[key], q[key])\n        } else if (o[key] !== q[key]) {\n          result = false\n        }\n      }\n    }\n    compareRecursive(obj.obj, query)\n    return result\n  }\n}\n","const fn = require('./lib.js');\n\nclass schema {\n  constructor(obj) {\n    this.obj = obj\n  }\n  prune(pruneobj) {\n    return fn.prune(pruneobj, this.obj)\n  }\n}\n\nmodule.exports = schema\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n    var errorListener;\n\n    // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}\n","const events = require('events');\nconst fn = require('./lib.js');\n\nclass model {\n  constructor(obj) {\n    this.obj = fn.clone(obj)\n    this.event = new events.EventEmitter()\n    this.change = {}\n    if (obj._id) {\n      this.id = obj._id\n    } else {\n      this.id = fn.id();\n    }\n  }\n  update(addObj) {\n    if (addObj) {\n      this.previousObj = fn.clone(this.obj)\n      this.obj = addObj\n      if (this.schema) {\n        this.schema.prune(this)\n      }\n      this.change = fn.compare(this.previousObj, this.obj)\n      this.event.emit('update', this);\n      //console.log(\"update\");\n    }\n  }\n  remove(removeObj) {\n    // to remove key from object\n    if (removeObj) {\n      this.previousObj = fn.clone(this.obj)\n      if (this.schema) {\n        this.schema.prune(this)\n      }\n      this.change = fn.compare(this.previousObj, removeObj)\n      this.event.emit('remove', this);\n    }\n  }\n  destroy() {\n    // destory model\n    this.event.emit('destroy');\n  }\n  detach() {\n    console.log(\"detching from model\")\n  }\n  save() {\n    // save model (if not autosaving)\n    this.event.emit('save');\n  }\n  load() {\n    // load from remote server (if not autloading)\n    this.event.emit('load');\n  }\n}\n\nmodule.exports = model\n","const events = require('events');\nconst fn = require('./lib.js');\n\nclass collection {\n  constructor(obj, data) {\n    this.obj = fn.objectTypeValidate(obj, \"array\")\n    this.event = new events.EventEmitter()\n    if (data) {\n      if (data.url) {\n        this.url = data.url\n      }\n      if (data.schema) {\n        this.schema = data.schema\n      }\n    }\n    this.id = fn.id()\n  }\n  add(addObj) {\n    let self = this\n    // add loop to cover array of models\n    if (this.schema) {\n      addObj = this.schema.prune(addObj)\n      addObj.schema = this.schema\n    }\n\n    function updateEvent(data) {\n      self.event.emit('update', data);\n    }\n\n    function removeEvent(data) {\n      self.event.emit('remove', data);\n    }\n\n    function destroyEvent(data) {\n      self.event.emit('destroy', data);\n    }\n\n    function loadEvent(data) {\n      self.event.emit('load', data);\n    }\n\n    function saveEvent(data) {\n      self.event.emit('save', data);\n    }\n\n    function detachEvent(collection) {\n      if (collection === self) {\n        addObj.event.removeListener('update', updateEvent)\n        addObj.event.removeListener('remove', removeEvent)\n        addObj.event.removeListener('destroy', destroyEvent)\n        addObj.event.removeListener('load', loadEvent)\n        addObj.event.removeListener('save', saveEvent)\n        addObj.event.removeListener('detach', detachEvent)\n      }\n    };\n\n    addObj.event.addListener('update', updateEvent);\n\n    addObj.event.addListener('remove', removeEvent);\n\n    addObj.event.addListener('destroy', destroyEvent);\n\n    addObj.event.addListener('load', loadEvent)\n\n    addObj.event.addListener('save', saveEvent);\n\n    addObj.event.addListener('detach', detachEvent);\n\n\n    this.obj = this.obj.concat(fn.objectTypeValidate(addObj, \"array\"))\n    this.event.emit('add', this.obj, addObj);\n  }\n  update(updateObj, query) {\n    // to add the same update to all models - bulk\n    for (let i of this.obj) {\n      if (!query || fn.query(i, query)) {\n        i.update(updateObj)\n      }\n    }\n    //this.event.emit('update');\n  }\n  remove(removeObj, query) {\n    // to remove the same update to all models - bulk\n    for (let i of this.obj) {\n      if (!query || fn.query(i, query)) {\n        i.remove(removeObj)\n      }\n    }\n    this.event.emit('remove');\n  }\n  detach(model) {\n    // detach all listeners from collection for model\n    if (model) {\n      model.event.emit('detach', this);\n      this.event.emit(\"detach\", model)\n    } else {\n      console.log(\"no model to detach from collection\")\n    }\n  }\n  findAndDetach(query) {\n    // run a query to then detach each matching model\n    for (let i of this.obj) {\n      if (Object.keys(query).length > 0 && fn.query(i, query)) {\n        this.detach(i)\n      }\n    }\n  }\n  destroyCollection() {\n    // destroy collection\n    this.event.emit('destroyCollection');\n  }\n  save() {\n    // save collection (if not autosaving)\n    this.event.emit('save');\n  }\n  load() {\n    // load from remote server (if not autloading)\n    this.event.emit('load');\n  }\n  models() {\n    return this.obj.map(x => x.obj);\n  }\n}\n\nmodule.exports = collection\n","const events = require('events');\nconst fn = require('./lib.js');\n\nclass controller {\n  constructor(obj) {\n    let self = this\n    this.obj = obj\n    this.type = obj.constructor.name\n    obj.event.addListener('update', function(data) {\n      self.update(data, self.obj.obj)\n    })\n    obj.event.addListener('add', function(data) {\n      self.add(data, self.obj.obj)\n    })\n    obj.event.addListener('remove', function(data) {\n      self.remove(data, self.obj.obj)\n    })\n    obj.event.addListener('destroy', function() {\n      self.destroy()\n    })\n    obj.event.addListener('detach', function(data) {\n      self.detach(data)\n    })\n    /*obj.event.addListener('detached', function() {\n      self.detached()\n    })*/\n    obj.event.addListener('destroyCollection', function() {\n      self.destroyCollection()\n    })\n    obj.event.addListener('load', function() {\n      self.load()\n    })\n    obj.event.addListener('save', function() {\n      self.save()\n    })\n  }\n  collection() {\n    return this.obj.obj\n  }\n  update(data, changedata, obj) {\n    switch (this.type) {\n      case \"model\":\n        console.log(\"model update (default controller)\")\n        break;\n      case \"collection\":\n        console.log(\"collection update (default controller)\")\n        break;\n    }\n  }\n  add(data, changedata, obj) {\n    switch (this.type) {\n      case \"model\":\n        console.log(\"model add (default controller)\")\n        break;\n      case \"collection\":\n        console.log(\"collection add (default controller)\")\n        break;\n    }\n  }\n  remove(data, changedata, obj) {\n    switch (this.type) {\n      case \"model\":\n        console.log(\"model remove (default controller)\")\n        break;\n      case \"collection\":\n        console.log(\"collection remove (default controller)\")\n        break;\n    }\n  }\n  destroy(data, changedata) {\n    switch (this.type) {\n      case \"model\":\n        console.log(\"model destroy (Model) (default controller)\")\n        break;\n      case \"collection\":\n        console.log(\"collection destroy (Model) (default controller)\")\n        break;\n    }\n  }\n  detach(data) {\n    switch (this.type) {\n      case \"model\":\n        console.log(\"model detach (Model) (default controller)\")\n        break;\n      case \"collection\":\n        console.log(\"collection detach (Model) (default controller)\")\n        break;\n    }\n  }\n  destroyCollection(data, changedata) {\n    console.log(\"collection destroy (Collection) (default controller)\")\n  }\n  load(data, changedata) {\n    switch (this.type) {\n      case \"model\":\n        console.log(\"model load (default controller)\")\n        break;\n      case \"collection\":\n        console.log(\"collection load (default controller)\")\n        break;\n    }\n  }\n  save(data, changedata) {\n    switch (this.type) {\n      case \"model\":\n        console.log(\"model save (default controller)\")\n        break;\n      case \"collection\":\n        console.log(\"collection save (default controller)\")\n        break;\n    }\n  }\n}\nmodule.exports = controller\n","const schema = require('./schema.js');\nconst model = require('./model.js');\nconst collection = require('./collection.js');\nconst controller = require('./controller.js');\n\nmodule.exports = {\n  schema: schema,\n  model: model,\n  collection: collection,\n  controller: controller\n}\n","const mvc = require(\"../bipartite.js\")\n\nconst schemaObj = {\n  fruit: String,\n  name: String,\n  place: {\n    type: String,\n    default: \"this place\"\n  },\n  defaulPlace: {\n    type: String,\n    default: \"default place\"\n  },\n  list: Array,\n  truthy: Boolean,\n  untruthy: Boolean,\n  recursive: {\n    recursivething: String,\n    recursivestr: String,\n    recursive: {\n      recursivething: String,\n      recursivestr: String\n    }\n  }\n}\n\nconst data = {\n  url: \"www.google.com\",\n  schema: new mvc.schema(schemaObj)\n}\n\nconst obj2 = {\n  name: \"ted\",\n  place: \"over here\",\n  wrongplace: \"should not be here\",\n  list: [\"jjhjh\", \"trtrtr\"],\n  truthy: false,\n  untruthy: \"true\",\n  recursive: {\n    recursivething: \"blah\",\n    recursivestr: 6,\n    recursive: {\n      recursivething: \"blah\",\n      recursivestr: \"dsfd\"\n    }\n  }\n}\n\nconst obj3 = {\n  name: \"billy bob jimbo\",\n  place: \"over and away\",\n  wrongplace: \"should not be here\",\n  list: [\"jjhjssssh\", \"trtrtr\"],\n  truthy: true,\n  untruthy: \"kss\",\n  recursive: {\n    recursivething: \"hghghghg\",\n    recursivestr: 8,\n    recursive: {\n      recursivething: \"sdd\",\n      recursivestr: \"aaaa\"\n    }\n  }\n}\n\nlet modelObj2 = new mvc.model(obj2)\nlet modelObj3 = new mvc.model(obj3)\nlet modelController = new mvc.controller(modelObj2)\n\n\nmodelController.update = function(model) {\n  switch (this.type) {\n    case \"model\":\n      console.log(\"model update (set in controller)\")\n      break;\n    case \"collection\":\n      console.log(\"collection update (set in controller)\")\n      break;\n  }\n}\n\nmodelController.add = function(model) {\n  switch (this.type) {\n    case \"model\":\n      console.log(\"model added (set in controller)\")\n      break;\n    case \"collection\":\n      console.log(\"collection added (set in controller)\")\n      break;\n  }\n}\n\nmodelController.remove = function(model) {\n  switch (this.type) {\n    case \"model\":\n      console.log(\"model removed (set in controller)\")\n      break;\n    case \"collection\":\n      console.log(\"collection removed (set in controller)\")\n      break;\n  }\n}\n\nlet collectionObj = new mvc.collection(null, data)\nlet controller2 = new mvc.controller(collectionObj)\n\ncontroller2.add = function(model) {\n  switch (this.type) {\n    case \"model\":\n      console.log(\"model add (set in controller)\")\n      break;\n    case \"collection\":\n      console.log(\"collection add (set in controller)\")\n      //console.log(model)\n      break;\n  }\n}\ncontroller2.update = function(model) {\n  switch (this.type) {\n    case \"model\":\n      console.log(\"model update (set in controller)\")\n      //console.log(model.obj)\n      break;\n    case \"collection\":\n      console.log(\"collection update (set in controller)\")\n      //console.log(model.obj)\n      //console.log(model.obj);\n      //console.log(this.obj)\n      break;\n  }\n}\ncontroller2.remove = function(model) {\n  switch (this.type) {\n    case \"model\":\n      console.log(\"model remove (set in controller)\")\n      break;\n    case \"collection\":\n      console.log(\"collection remove (set in controller)\")\n      break;\n  }\n}\n\ncontroller2.detach = function(model) {\n  switch (this.type) {\n    case \"model\":\n      console.log(\"model detach (set in controller)\")\n      break;\n    case \"collection\":\n      console.log(\"Model: \"+model.id+\" removed from collection: \" + this.obj.id)\n      break;\n  }\n}\n\ncollectionObj.add(modelObj2)\ncollectionObj.add(modelObj3)\n\nlet updateObj = {\n  fruit: \"orange\",\n  name: \"bob\",\n  recursive: {\n    recursivething: \"fflah\",\n    recursivestr: 2,\n    recursive: {\n      recursivestr: \"dsfffd\"\n    }\n  }\n}\n\nlet removeObj = {\n  fruit: false,\n  recursive: {\n    recursivething: false,\n    recursive: {\n      recursivestr: false\n    }\n  }\n}\n\nlet query = {\n  name: \"bob\",\n  recursive: {\n    recursivething: \"fflah\",\n    recursivestr: 3\n  }\n}\n\nlet detachQuery = {\n  fruit: \"orange\"\n}\n\ncollectionObj.update(updateObj)\ncollectionObj.update(updateObj, query)\ncollectionObj.remove(removeObj)\ncollectionObj.detach()\ncollectionObj.findAndDetach(detachQuery)\ncollectionObj.update(updateObj)\ncollectionObj.destroyCollection()\ncollectionObj.load()\ncollectionObj.save()\n\n\nmodelObj2.update({\n  list: [\"jjhjh\", \"jjddddhjh\", \"trtjrtr\", \"gfgfgfffgf\"],\n  fruit: \"apple\",\n  name: \"jim\",\n  more: {\n    thing: \"no\",\n    otherthing: \"kaaakj\",\n    newthing: \"jsjsj\",\n    list: [\"more jjhjh\", \"more trtrtr\"]\n  }\n})\n\nmodelObj2.update({\n  fruit: \"orange\",\n  name: \"bob\",\n  recursive: {\n    recursivething: \"fflah\",\n    recursivestr: 2,\n    recursive: {\n      recursivestr: \"dsfffd\"\n    }\n  }\n})\n\n\n\nmodelObj2.remove()\nmodelObj2.destroy()\nmodelObj2.load()\nmodelObj2.save()\n\n//console.log(collectionObj.models())\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}