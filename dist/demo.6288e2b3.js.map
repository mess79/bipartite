{"version":3,"sources":["../lib.js","../schema.js","../model.js","../../../.nvm/versions/node/v14.4.0/lib/node_modules/parcel-bundler/node_modules/events/events.js","../collection.js","../controller.js","../view.js","../bipartite.js","demo.js"],"names":["idVar","module","exports","clone","obj","JSON","parse","stringify","id","objectTypeValidate","type","Array","isArray","update","obj1","obj2","compareRecursive","key","Object","keys","length","remove","compare","updated","removed","added","diff","filter","x","includes","invDiff","removeRecursive","prune","schema","output","option","defaultData","default","String","Number","Boolean","query","result","o","q","fn","require","pruneobj","model","controllers","change","_id","event","eventUpdate","controller","push","controller_push","splice","indexOf","view","addObj","previousObj","removeObj","console","log","ReflectOwnKeys","R","Reflect","ReflectApply","apply","target","receiver","args","Function","prototype","call","ProcessEmitWarning","warning","warn","ownKeys","getOwnPropertySymbols","getOwnPropertyNames","concat","NumberIsNaN","isNaN","value","EventEmitter","init","once","_events","undefined","_eventsCount","_maxListeners","defaultMaxListeners","checkListener","listener","TypeError","_getMaxListeners","that","_addListener","prepend","m","events","existing","create","newListener","emit","unshift","warned","w","Error","name","emitter","count","onceWrapper","fired","arguments","removeListener","wrapFn","_onceWrap","state","wrapped","bind","_listeners","unwrap","evlistener","unwrapListeners","arrayClone","listenerCount","arr","n","copy","i","spliceOne","list","index","pop","ret","Promise","resolve","reject","eventListener","errorListener","slice","err","defineProperty","enumerable","get","set","arg","RangeError","getPrototypeOf","setMaxListeners","getMaxListeners","doError","error","er","message","context","handler","len","listeners","addListener","on","prependListener","prependOnceListener","position","originalListener","shift","off","removeAllListeners","rawListeners","eventNames","collection","data","url","self","updateEvent","removeEvent","destroyEvent","loadEvent","saveEvent","detachEvent","updateObj","detach","map","views","constructor","addController","origin","view_push","propsUpdate","changedata","el","querySelectorAll","props","view_collection","attributes","bi","addView","listen","removeView","prop","split","p","viewUpdate","getAttribute","tagName","innerHTML","checked","checkAndUpdate","end","addEventListener","mvc","schemaObj","fruit","place","defaulPlace","truthy","untruthy","recursive","recursivething","recursivestr","wrongplace","obj3","modelObj2","modelObj3","modelController","add","collectionObj","detachQuery","findAndDetach","destroyCollection","load","save","more","thing","otherthing","newthing","destroy","window","document","getElementById","elForm"],"mappings":"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","file":"demo.6288e2b3.js","sourceRoot":"../demo","sourcesContent":["let idVar = -1\n\nmodule.exports = {\n  clone: function(obj) {\n    obj = JSON.parse(JSON.stringify(obj));\n    return obj\n  },\n  id: function() {\n    idVar++\n    return idVar\n  },\n  objectTypeValidate: function(obj, type) {\n    switch (type) {\n      case \"array\":\n        if (Array.isArray(obj)) {} else {\n          if (!obj) {\n            obj = [];\n          } else {\n            obj = [obj];\n          }\n        }\n        break;\n      case \"object\":\n        if (typeof obj === 'object' && obj !== null && !Array.isArray(obj)) {} else {\n          obj = {}\n        }\n        break;\n    }\n    return obj\n  },\n  update: function(obj1, obj2) {\n    obj1 = this.clone(obj1)\n    obj2 = this.clone(obj2)\n    //console.log(\"update 1: \"+obj2.truthy)\n    const compareRecursive = function(obj1, obj2) {\n      for (let key in obj2) {\n        if (typeof obj2[key] === 'object' && Object.keys(obj2[key]).length > 0) {\n          if(!obj1[key]){\n            obj1[key]={}\n          }\n          compareRecursive(obj1[key], obj2[key])\n        } else if (typeof obj2[key] === 'string' || typeof obj2[key] === 'boolean') {\n          obj1[key] = obj2[key]\n        }\n      }\n    }\n    compareRecursive(obj1, obj2)\n    //console.log(\"update 2: \"+obj2.truthy)\n    return obj1\n  },\n  remove: function(obj1, obj2) {\n    obj1 = this.clone(obj1)\n    obj2 = this.clone(obj2)\n    const compareRecursive = function(obj1, obj2) {\n      for (let key in obj2) {\n        if (obj2[key] === false) {\n          delete obj1[key]\n        } else if (typeof obj2[key] === 'object' && Object.keys(obj2[key]).length > 0) {\n          compareRecursive(obj1[key], obj2[key])\n        }\n      }\n    }\n    compareRecursive(obj1, obj2)\n    return obj1\n  },\n  compare: function(obj1, obj2) {\n    //console.log(obj1, obj2)\n    obj1 = this.clone(obj1)\n    obj2 = this.clone(obj2)\n    let obj = {\n      updated: {},\n      removed: {},\n      added: {}\n    };\n    const compareRecursive = function(obj1, obj2, updated, removed, added) {\n      for (let key in obj2) {\n        if (Array.isArray(obj1[key])) {\n          let diff = obj2[key].filter(x => !obj1[key].includes(x));\n          let invDiff = obj1[key].filter(x => !obj2[key].includes(x));\n          if (diff.length > 0 || invDiff > 0) {\n            added[key] = diff\n            removed[key] = invDiff\n            updated[key] = obj2[key]\n          }\n        } else {\n          if (obj2[key] === obj1[key]) {} else if (typeof obj1[key] === 'object' && obj1[key] !== null && Object.keys(obj1[key]).length > 0) {\n            //console.log(obj2)\n            if (!updated[key]) {\n              updated[key] = {}\n            }\n            if (!removed[key]) {\n              removed[key] = {}\n            }\n            if (!added[key]) {\n              added[key] = {}\n            }\n            compareRecursive(obj1[key], obj2[key], updated[key], removed[key], added[key])\n          } else if (obj1[key]) {\n            //console.log(obj2[key])\n            updated[key] = obj2[key]\n            removed[key] = obj1[key]\n            //delete obj1[key]\n          } else {\n            updated[key] = obj2[key]\n            added[key] = obj2[key]\n          }\n        }\n      }\n    }\n    const removeRecursive = function (obj1, obj2, removed){\n      for (let key in obj1) {\n        if(!obj2[key]){\n          removed[key] = obj1[key]\n        } else if (typeof obj1[key] === 'object' && obj1[key] !== null && Object.keys(obj1[key]).length > 0) {\n          removeRecursive(obj1[key], obj2[key], removed[key])\n        }\n      }\n    }\n    compareRecursive(obj1, obj2, obj.updated, obj.removed, obj.added)\n    removeRecursive(obj1, obj2, obj.removed)\n    //console.log(obj)\n    return obj;\n  },\n  prune: function(obj, schema) {\n    let output = {}\n    const compareRecursive = function(obj, schema, output) {\n      for (let key in schema) {\n        let option = schema[key];\n        let defaultData = \"\";\n        if (schema[key].type || schema[key].default) {\n          option = schema[key].type\n          if (schema[key].default) {\n            defaultData = schema[key].default\n          }\n        }\n        if (obj && typeof option === 'object' && obj[key] !== null && Object.keys(obj).length > 0) {\n          output[key] = {}\n          compareRecursive(obj[key], schema[key], output[key])\n        }\n        if (defaultData && !obj[key]) {\n          output[key] = defaultData;\n        } else if (obj) {\n          //console.log(option)\n          switch (option) {\n            case String:\n              //console.log(obj[key]);\n              if (typeof obj[key] === \"string\") {\n                output[key] = obj[key]\n              }\n              break;\n            case Number:\n              if (typeof obj[key] === \"number\") {\n                output[key] = obj[key]\n              }\n              break;\n            case Boolean:\n              if (typeof obj[key] === \"boolean\") {\n                output[key] = obj[key]\n              } else if (obj[key] === \"true\" || obj[key] === \"false\"){\n                output[key] = (obj[key] === \"true\")\n              }\n              break;\n            case Array:\n              if (Array.isArray(obj[key])) {\n                output[key] = obj[key]\n              }\n              break;\n          }\n        }\n      }\n    }\n    compareRecursive(obj, schema, output)\n    return output\n  },\n  query: function(obj, query) {\n    let result = true\n    const compareRecursive = function(o, q) {\n      for (let key in q) {\n        if (typeof q[key] === 'object' && Object.keys(q[key]).length > 0) {\n          compareRecursive(o[key], q[key])\n        } else if (o[key] !== q[key]) {\n          result = false\n        }\n      }\n    }\n    compareRecursive(obj, query)\n    return result\n  }\n}\n","const fn = require('./lib.js');\n\nclass schema {\n  constructor(obj) {\n    this.obj = obj\n  }\n  prune(pruneobj) {\n    return fn.prune(pruneobj, this.obj)\n  }\n}\n\nmodule.exports = schema\n","const fn = require('./lib.js');\n\nclass model {\n  constructor(obj) {\n    this.controllers = [];\n    this.obj = fn.clone(obj)\n    this.change = {}\n    if (obj._id) {\n      this.id = obj._id\n    } else {\n      this.id = fn.id();\n    }\n  }\n\n  controller_push(event){\n    for (let i of this.controllers){\n      i.eventUpdate(event, this)\n    }\n  }\n  addController(controller){\n    this.controllers.push(controller)\n    this.controller_push(\"update\")\n  }\n  removeController(controller){\n    this.controllers.splice(this.controllers.indexOf(view), 1)\n  }\n\n  update(addObj) {\n    if (addObj) {\n      this.previousObj = fn.clone(this.obj)\n      this.obj = fn.update(this.previousObj, addObj)\n      if (this.schema) {\n        this.obj = this.schema.prune(this.obj)\n      }\n      this.change = fn.compare(this.previousObj, this.obj)\n      this.controller_push(\"update\", this)\n    }\n  }\n  remove(removeObj) {\n    // to remove key from object\n    if (removeObj) {\n      this.previousObj = fn.clone(this.obj)\n      this.obj = fn.remove(this.previousObj, removeObj)\n      if (this.schema) {\n        this.obj = this.schema.prune(this.obj)\n      }\n      this.change = fn.compare(this.previousObj, this.obj)\n      this.controller_push(\"remove\", this)\n    }\n  }\n  destroy() {\n    // destory model\n    this.controller_push(\"destroy\", this)\n  }\n  detach() {\n    console.log(\"detching from model\")\n  }\n  save() {\n    // save model (if not autosaving)\n    this.controller_push(\"save\", this)\n  }\n  load() {\n    // load from remote server (if not autloading)\n    this.controller_push(\"load\", this)\n  }\n}\n\nmodule.exports = model\n","// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n'use strict';\n\nvar R = typeof Reflect === 'object' ? Reflect : null\nvar ReflectApply = R && typeof R.apply === 'function'\n  ? R.apply\n  : function ReflectApply(target, receiver, args) {\n    return Function.prototype.apply.call(target, receiver, args);\n  }\n\nvar ReflectOwnKeys\nif (R && typeof R.ownKeys === 'function') {\n  ReflectOwnKeys = R.ownKeys\n} else if (Object.getOwnPropertySymbols) {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target)\n      .concat(Object.getOwnPropertySymbols(target));\n  };\n} else {\n  ReflectOwnKeys = function ReflectOwnKeys(target) {\n    return Object.getOwnPropertyNames(target);\n  };\n}\n\nfunction ProcessEmitWarning(warning) {\n  if (console && console.warn) console.warn(warning);\n}\n\nvar NumberIsNaN = Number.isNaN || function NumberIsNaN(value) {\n  return value !== value;\n}\n\nfunction EventEmitter() {\n  EventEmitter.init.call(this);\n}\nmodule.exports = EventEmitter;\nmodule.exports.once = once;\n\n// Backwards-compat with node 0.10.x\nEventEmitter.EventEmitter = EventEmitter;\n\nEventEmitter.prototype._events = undefined;\nEventEmitter.prototype._eventsCount = 0;\nEventEmitter.prototype._maxListeners = undefined;\n\n// By default EventEmitters will print a warning if more than 10 listeners are\n// added to it. This is a useful default which helps finding memory leaks.\nvar defaultMaxListeners = 10;\n\nfunction checkListener(listener) {\n  if (typeof listener !== 'function') {\n    throw new TypeError('The \"listener\" argument must be of type Function. Received type ' + typeof listener);\n  }\n}\n\nObject.defineProperty(EventEmitter, 'defaultMaxListeners', {\n  enumerable: true,\n  get: function() {\n    return defaultMaxListeners;\n  },\n  set: function(arg) {\n    if (typeof arg !== 'number' || arg < 0 || NumberIsNaN(arg)) {\n      throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received ' + arg + '.');\n    }\n    defaultMaxListeners = arg;\n  }\n});\n\nEventEmitter.init = function() {\n\n  if (this._events === undefined ||\n      this._events === Object.getPrototypeOf(this)._events) {\n    this._events = Object.create(null);\n    this._eventsCount = 0;\n  }\n\n  this._maxListeners = this._maxListeners || undefined;\n};\n\n// Obviously not all Emitters should be limited to 10. This function allows\n// that to be increased. Set to zero for unlimited.\nEventEmitter.prototype.setMaxListeners = function setMaxListeners(n) {\n  if (typeof n !== 'number' || n < 0 || NumberIsNaN(n)) {\n    throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received ' + n + '.');\n  }\n  this._maxListeners = n;\n  return this;\n};\n\nfunction _getMaxListeners(that) {\n  if (that._maxListeners === undefined)\n    return EventEmitter.defaultMaxListeners;\n  return that._maxListeners;\n}\n\nEventEmitter.prototype.getMaxListeners = function getMaxListeners() {\n  return _getMaxListeners(this);\n};\n\nEventEmitter.prototype.emit = function emit(type) {\n  var args = [];\n  for (var i = 1; i < arguments.length; i++) args.push(arguments[i]);\n  var doError = (type === 'error');\n\n  var events = this._events;\n  if (events !== undefined)\n    doError = (doError && events.error === undefined);\n  else if (!doError)\n    return false;\n\n  // If there is no 'error' event listener then throw.\n  if (doError) {\n    var er;\n    if (args.length > 0)\n      er = args[0];\n    if (er instanceof Error) {\n      // Note: The comments on the `throw` lines are intentional, they show\n      // up in Node's output if this results in an unhandled exception.\n      throw er; // Unhandled 'error' event\n    }\n    // At least give some kind of context to the user\n    var err = new Error('Unhandled error.' + (er ? ' (' + er.message + ')' : ''));\n    err.context = er;\n    throw err; // Unhandled 'error' event\n  }\n\n  var handler = events[type];\n\n  if (handler === undefined)\n    return false;\n\n  if (typeof handler === 'function') {\n    ReflectApply(handler, this, args);\n  } else {\n    var len = handler.length;\n    var listeners = arrayClone(handler, len);\n    for (var i = 0; i < len; ++i)\n      ReflectApply(listeners[i], this, args);\n  }\n\n  return true;\n};\n\nfunction _addListener(target, type, listener, prepend) {\n  var m;\n  var events;\n  var existing;\n\n  checkListener(listener);\n\n  events = target._events;\n  if (events === undefined) {\n    events = target._events = Object.create(null);\n    target._eventsCount = 0;\n  } else {\n    // To avoid recursion in the case that type === \"newListener\"! Before\n    // adding it to the listeners, first emit \"newListener\".\n    if (events.newListener !== undefined) {\n      target.emit('newListener', type,\n                  listener.listener ? listener.listener : listener);\n\n      // Re-assign `events` because a newListener handler could have caused the\n      // this._events to be assigned to a new object\n      events = target._events;\n    }\n    existing = events[type];\n  }\n\n  if (existing === undefined) {\n    // Optimize the case of one listener. Don't need the extra array object.\n    existing = events[type] = listener;\n    ++target._eventsCount;\n  } else {\n    if (typeof existing === 'function') {\n      // Adding the second element, need to change to array.\n      existing = events[type] =\n        prepend ? [listener, existing] : [existing, listener];\n      // If we've already got an array, just append.\n    } else if (prepend) {\n      existing.unshift(listener);\n    } else {\n      existing.push(listener);\n    }\n\n    // Check for listener leak\n    m = _getMaxListeners(target);\n    if (m > 0 && existing.length > m && !existing.warned) {\n      existing.warned = true;\n      // No error code for this since it is a Warning\n      // eslint-disable-next-line no-restricted-syntax\n      var w = new Error('Possible EventEmitter memory leak detected. ' +\n                          existing.length + ' ' + String(type) + ' listeners ' +\n                          'added. Use emitter.setMaxListeners() to ' +\n                          'increase limit');\n      w.name = 'MaxListenersExceededWarning';\n      w.emitter = target;\n      w.type = type;\n      w.count = existing.length;\n      ProcessEmitWarning(w);\n    }\n  }\n\n  return target;\n}\n\nEventEmitter.prototype.addListener = function addListener(type, listener) {\n  return _addListener(this, type, listener, false);\n};\n\nEventEmitter.prototype.on = EventEmitter.prototype.addListener;\n\nEventEmitter.prototype.prependListener =\n    function prependListener(type, listener) {\n      return _addListener(this, type, listener, true);\n    };\n\nfunction onceWrapper() {\n  if (!this.fired) {\n    this.target.removeListener(this.type, this.wrapFn);\n    this.fired = true;\n    if (arguments.length === 0)\n      return this.listener.call(this.target);\n    return this.listener.apply(this.target, arguments);\n  }\n}\n\nfunction _onceWrap(target, type, listener) {\n  var state = { fired: false, wrapFn: undefined, target: target, type: type, listener: listener };\n  var wrapped = onceWrapper.bind(state);\n  wrapped.listener = listener;\n  state.wrapFn = wrapped;\n  return wrapped;\n}\n\nEventEmitter.prototype.once = function once(type, listener) {\n  checkListener(listener);\n  this.on(type, _onceWrap(this, type, listener));\n  return this;\n};\n\nEventEmitter.prototype.prependOnceListener =\n    function prependOnceListener(type, listener) {\n      checkListener(listener);\n      this.prependListener(type, _onceWrap(this, type, listener));\n      return this;\n    };\n\n// Emits a 'removeListener' event if and only if the listener was removed.\nEventEmitter.prototype.removeListener =\n    function removeListener(type, listener) {\n      var list, events, position, i, originalListener;\n\n      checkListener(listener);\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      list = events[type];\n      if (list === undefined)\n        return this;\n\n      if (list === listener || list.listener === listener) {\n        if (--this._eventsCount === 0)\n          this._events = Object.create(null);\n        else {\n          delete events[type];\n          if (events.removeListener)\n            this.emit('removeListener', type, list.listener || listener);\n        }\n      } else if (typeof list !== 'function') {\n        position = -1;\n\n        for (i = list.length - 1; i >= 0; i--) {\n          if (list[i] === listener || list[i].listener === listener) {\n            originalListener = list[i].listener;\n            position = i;\n            break;\n          }\n        }\n\n        if (position < 0)\n          return this;\n\n        if (position === 0)\n          list.shift();\n        else {\n          spliceOne(list, position);\n        }\n\n        if (list.length === 1)\n          events[type] = list[0];\n\n        if (events.removeListener !== undefined)\n          this.emit('removeListener', type, originalListener || listener);\n      }\n\n      return this;\n    };\n\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n\nEventEmitter.prototype.removeAllListeners =\n    function removeAllListeners(type) {\n      var listeners, events, i;\n\n      events = this._events;\n      if (events === undefined)\n        return this;\n\n      // not listening for removeListener, no need to emit\n      if (events.removeListener === undefined) {\n        if (arguments.length === 0) {\n          this._events = Object.create(null);\n          this._eventsCount = 0;\n        } else if (events[type] !== undefined) {\n          if (--this._eventsCount === 0)\n            this._events = Object.create(null);\n          else\n            delete events[type];\n        }\n        return this;\n      }\n\n      // emit removeListener for all listeners on all events\n      if (arguments.length === 0) {\n        var keys = Object.keys(events);\n        var key;\n        for (i = 0; i < keys.length; ++i) {\n          key = keys[i];\n          if (key === 'removeListener') continue;\n          this.removeAllListeners(key);\n        }\n        this.removeAllListeners('removeListener');\n        this._events = Object.create(null);\n        this._eventsCount = 0;\n        return this;\n      }\n\n      listeners = events[type];\n\n      if (typeof listeners === 'function') {\n        this.removeListener(type, listeners);\n      } else if (listeners !== undefined) {\n        // LIFO order\n        for (i = listeners.length - 1; i >= 0; i--) {\n          this.removeListener(type, listeners[i]);\n        }\n      }\n\n      return this;\n    };\n\nfunction _listeners(target, type, unwrap) {\n  var events = target._events;\n\n  if (events === undefined)\n    return [];\n\n  var evlistener = events[type];\n  if (evlistener === undefined)\n    return [];\n\n  if (typeof evlistener === 'function')\n    return unwrap ? [evlistener.listener || evlistener] : [evlistener];\n\n  return unwrap ?\n    unwrapListeners(evlistener) : arrayClone(evlistener, evlistener.length);\n}\n\nEventEmitter.prototype.listeners = function listeners(type) {\n  return _listeners(this, type, true);\n};\n\nEventEmitter.prototype.rawListeners = function rawListeners(type) {\n  return _listeners(this, type, false);\n};\n\nEventEmitter.listenerCount = function(emitter, type) {\n  if (typeof emitter.listenerCount === 'function') {\n    return emitter.listenerCount(type);\n  } else {\n    return listenerCount.call(emitter, type);\n  }\n};\n\nEventEmitter.prototype.listenerCount = listenerCount;\nfunction listenerCount(type) {\n  var events = this._events;\n\n  if (events !== undefined) {\n    var evlistener = events[type];\n\n    if (typeof evlistener === 'function') {\n      return 1;\n    } else if (evlistener !== undefined) {\n      return evlistener.length;\n    }\n  }\n\n  return 0;\n}\n\nEventEmitter.prototype.eventNames = function eventNames() {\n  return this._eventsCount > 0 ? ReflectOwnKeys(this._events) : [];\n};\n\nfunction arrayClone(arr, n) {\n  var copy = new Array(n);\n  for (var i = 0; i < n; ++i)\n    copy[i] = arr[i];\n  return copy;\n}\n\nfunction spliceOne(list, index) {\n  for (; index + 1 < list.length; index++)\n    list[index] = list[index + 1];\n  list.pop();\n}\n\nfunction unwrapListeners(arr) {\n  var ret = new Array(arr.length);\n  for (var i = 0; i < ret.length; ++i) {\n    ret[i] = arr[i].listener || arr[i];\n  }\n  return ret;\n}\n\nfunction once(emitter, name) {\n  return new Promise(function (resolve, reject) {\n    function eventListener() {\n      if (errorListener !== undefined) {\n        emitter.removeListener('error', errorListener);\n      }\n      resolve([].slice.call(arguments));\n    };\n    var errorListener;\n\n    // Adding an error listener is not optional because\n    // if an error is thrown on an event emitter we cannot\n    // guarantee that the actual event we are waiting will\n    // be fired. The result could be a silent way to create\n    // memory or file descriptor leaks, which is something\n    // we should avoid.\n    if (name !== 'error') {\n      errorListener = function errorListener(err) {\n        emitter.removeListener(name, eventListener);\n        reject(err);\n      };\n\n      emitter.once('error', errorListener);\n    }\n\n    emitter.once(name, eventListener);\n  });\n}\n","const events = require('events');\nconst fn = require('./lib.js');\n\nclass collection {\n  constructor(obj, data) {\n    this.event = new events.EventEmitter()\n    if (data) {\n      if (data.url) {\n        this.url = data.url\n      }\n      if (data.schema) {\n        this.schema = data.schema\n      }\n    }\n    this.id = fn.id()\n    this.obj = []\n    for (let i of fn.objectTypeValidate(obj, \"array\")){\n      this.listeners(i)\n    }\n\n  }\n  add(addObj) {\n    this.listeners(addObj)\n    this.event.emit('add', this.obj, addObj);\n  }\n  listeners(addObj){\n    let self = this\n    // add loop to cover array of models\n    if (this.schema) {\n      addObj.schema = this.schema\n      addObj.obj = this.schema.prune(addObj.obj)\n    }\n    function updateEvent(data) {\n      self.event.emit('update', data);\n    }\n\n    function removeEvent(data) {\n      self.event.emit('remove', data);\n    }\n\n    function destroyEvent(data) {\n      self.event.emit('destroy', data);\n    }\n\n    function loadEvent(data) {\n      self.event.emit('load', data);\n    }\n\n    function saveEvent(data) {\n      self.event.emit('save', data);\n    }\n\n    function detachEvent(collection) {\n      if (collection === self) {\n        addObj.event.removeListener('update', updateEvent)\n        addObj.event.removeListener('remove', removeEvent)\n        addObj.event.removeListener('destroy', destroyEvent)\n        addObj.event.removeListener('load', loadEvent)\n        addObj.event.removeListener('save', saveEvent)\n        addObj.event.removeListener('detach', detachEvent)\n        addObj.schema = {}\n      }\n    };\n    addObj.event.addListener('update', updateEvent);\n    addObj.event.addListener('remove', removeEvent);\n    addObj.event.addListener('destroy', destroyEvent);\n    addObj.event.addListener('load', loadEvent)\n    addObj.event.addListener('save', saveEvent);\n    addObj.event.addListener('detach', detachEvent);\n    this.obj = this.obj.concat(fn.objectTypeValidate(addObj, \"array\"))\n  }\n  update(updateObj, query) {\n    // to add the same update to all models - bulk\n    for (let i of this.obj) {\n      if (!query || fn.query(i.obj, query)) {\n        i.update(updateObj)\n      }\n    }\n  }\n  remove(removeObj, query) {\n    // to remove the same update to all models - bulk\n    for (let i of this.obj) {\n      if (!query || fn.query(i.obj, query)) {\n        i.remove(removeObj)\n      }\n    }\n  }\n  detach(model) {\n    // detach all listeners from collection for model\n    if (model) {\n      model.event.emit('detach', this);\n      this.event.emit(\"detach\", model)\n    } else {\n      console.log(\"no model to detach from collection\")\n    }\n  }\n  findAndDetach(query) {\n    // run a query to then detach each matching model\n    for (let i of this.obj) {\n      if (Object.keys(query).length > 0 && fn.query(i.obj, query)) {\n        this.detach(i)\n      }\n    }\n  }\n  destroyCollection() {\n    // destroy collection\n    this.event.emit('destroyCollection');\n  }\n  save() {\n    // save collection (if not autosaving)\n    this.event.emit('save');\n  }\n  load() {\n    // load from remote server (if not autloading)\n    this.event.emit('load');\n  }\n  models() {\n    return this.obj.map(x => x.obj);\n  }\n}\n\nmodule.exports = collection\n","//const events = require('events');\nconst fn = require('./lib.js');\n\nclass controller {\n  constructor(obj) {\n    this.views = []\n    this.obj = obj\n    this.type = obj.constructor.name\n    if (this.obj) {\n      this.addController()\n    }\n  }\n  //called from within model\n  addController() {\n    this.obj.addController(this)\n  }\n  eventUpdate(event, origin, data) {\n    this.view_push(event)\n    this[event](data, this.obj.obj)\n  }\n\n  //called from within view\n  view_push(event) {\n    for (let i of this.views) {\n      i.propsUpdate(event)\n    }\n  }\n  addView(view) {\n    this.views.push(view)\n    view.propsUpdate()\n  }\n  removeView(view) {\n    this.views.splice(this.views.indexOf(view), 1)\n  }\n  update(data, changedata, obj) {\n    switch (this.type) {\n      case \"model\":\n        console.log(\"model update (default controller)\")\n        break;\n      case \"collection\":\n        console.log(\"collection update (default controller)\")\n        break;\n    }\n  }\n  add(data, changedata, obj) {\n    switch (this.type) {\n      case \"model\":\n        console.log(\"model add (default controller)\")\n        break;\n      case \"collection\":\n        console.log(\"collection add (default controller)\")\n        break;\n    }\n  }\n  remove(data, changedata, obj) {\n    switch (this.type) {\n      case \"model\":\n        console.log(\"model remove (default controller)\")\n        break;\n      case \"collection\":\n        console.log(\"collection remove (default controller)\")\n        break;\n    }\n  }\n  destroy(data, changedata) {\n    switch (this.type) {\n      case \"model\":\n        console.log(\"model destroy (Model) (default controller)\")\n        break;\n      case \"collection\":\n        console.log(\"collection destroy (Model) (default controller)\")\n        break;\n    }\n  }\n  detach(data) {\n    switch (this.type) {\n      case \"model\":\n        console.log(\"model detach (Model) (default controller)\")\n        break;\n      case \"collection\":\n        console.log(\"collection detach (Model) (default controller)\")\n        break;\n    }\n  }\n  destroyCollection(data, changedata) {\n    console.log(\"collection destroy (Collection) (default controller)\")\n  }\n  load(data, changedata) {\n    switch (this.type) {\n      case \"model\":\n        console.log(\"model load (default controller)\")\n        break;\n      case \"collection\":\n        console.log(\"collection load (default controller)\")\n        break;\n    }\n  }\n  save(data, changedata) {\n    switch (this.type) {\n      case \"model\":\n        console.log(\"model save (default controller)\")\n        break;\n      case \"collection\":\n        console.log(\"collection save (default controller)\")\n        break;\n    }\n  }\n}\nmodule.exports = controller\n","const events = require('events');\nconst fn = require('./lib.js');\n\nclass view {\n  constructor(el, controller, model) {\n    this.el = el;\n    this.id = fn.id()\n    this.controller = controller\n    this.model = model\n    this.type = controller.type\n    this.list = this.el.querySelectorAll(\"[bi]\")\n    this.props = []\n    this.view_collection = []\n    //if (this.type === \"collection\") {}\n    for (let i = 0; i < this.list.length; i++) {\n      this.props.push(this.list[i].attributes.bi.value)\n    }\n    if (this.controller) {\n      this.addView()\n    }\n    this.listen()\n  }\n  addView() {\n    this.controller.addView(this)\n  }\n  removeView() {\n    this.controller.removeView(this)\n    //this.stopListen()\n  }\n  // from controller\n  propsUpdate(event) {\n    for (let i = 0; i < this.props.length; i++) {\n      let prop = this.props[i].split(\".\")\n      try {\n        let result = this.controller.obj.obj\n        for (let p = 0; p < prop.length; p++) {\n          result = result[prop[p]]\n        }\n        this.viewUpdate(this.props[i], result)\n      } catch (err) {\n        console.log(err)\n      }\n    }\n  }\n  viewUpdate(prop, result) {\n    for (let p of this.list) {\n      if (p.getAttribute(\"bi\") === prop) {\n        switch (p.tagName) {\n          case \"DIV\":\n            if (p.innerHTML !== result) {\n              p.innerHTML = result\n            }\n            break;\n          case \"SELECT\":\n          case \"TEXTAREA\":\n            if (p.value !== result) {\n              p.value = result\n            }\n            break;\n          case \"INPUT\":\n            switch (p.getAttribute(\"type\")) {\n              case \"checkbox\":\n                if (typeof result === \"string\") {\n                  result = (result === \"true\")\n                }\n                if (p.checked !== result) {\n                  p.checked = result\n                }\n                break;\n              case \"radio\":\n                if (p.value === result) {\n                  p.checked = true;\n                } else {\n                  p.checked = false;\n                }\n                break;\n              default:\n                if (p.value !== result) {\n                  p.value = result\n                }\n                break;\n            }\n            break\n        }\n      }\n    }\n  }\n  /*stopListen(){\n    for (let p of this.list) {\n      p.removeEventListener(\"input\", checkAndUpdate)\n    }\n  }*/\n  listen() {\n    let self = this\n    for (let p of this.list) {\n      let checkAndUpdate = function() {\n        let obj = {}\n        let props = p.getAttribute(\"bi\").split(\".\")\n        let o = obj;\n        for (let i = 0; i < props.length; i++) {\n          let end = {}\n          if (i + 1 === props.length) {\n            if (p.tagName === \"INPUT\" && p.getAttribute(\"type\") === \"checkbox\") {\n              end = p.checked\n            } else {\n              end = p.value\n            }\n          }\n          o = o[props[i]] = end;\n        }\n        self.controller.obj.update(obj)\n      }\n      switch (p.tagName) {\n        case \"SELECT\":\n        case \"TEXTAREA\":\n          p.addEventListener(\"input\", checkAndUpdate)\n          break;\n        case \"INPUT\":\n          switch (p.getAttribute(\"type\")) {\n            case \"checkbox\":\n              p.addEventListener(\"change\", checkAndUpdate)\n              break;\n            case \"radio\":\n              p.addEventListener(\"change\", checkAndUpdate)\n              break;\n            default:\n              p.addEventListener(\"input\", checkAndUpdate)\n              break;\n          }\n          break\n      }\n    }\n  }\n}\n\nmodule.exports = view\n","const schema = require('./schema.js');\nconst model = require('./model.js');\nconst collection = require('./collection.js');\nconst controller = require('./controller.js');\nconst view = require('./view.js');\n\nmodule.exports = {\n  schema: schema,\n  model: model,\n  collection: collection,\n  controller: controller,\n  view : view\n}\n","const mvc = require(\"../bipartite.js\")\n\nconst schemaObj = {\n  fruit: String,\n  name: String,\n  place: {\n    type: String,\n    default: \"this place\"\n  },\n  defaulPlace: {\n    type: String,\n    default: \"default place\"\n  },\n  list: Array,\n  truthy: Boolean,\n  untruthy: Boolean,\n  recursive: {\n    recursivething: String,\n    recursivestr: String,\n    recursive: {\n      recursivething: String,\n      recursivestr: String\n    }\n  }\n}\n\nconst data = {\n  url: \"www.google.com\",\n  schema: new mvc.schema(schemaObj)\n}\n\nconst obj2 = {\n  name: \"ted\",\n  place: \"over here\",\n  wrongplace: \"should not be here\",\n  list: [\"jjhjh\", \"trtrtr\"],\n  truthy: true,\n  untruthy: \"true\",\n  recursive: {\n    recursivething: \"blah\",\n    recursivestr: 6,\n    recursive: {\n      recursivething: \"blah\",\n      recursivestr: \"dsfd\"\n    }\n  }\n}\n\nconst obj3 = {\n  name: \"billy bob jimbo\",\n  place: \"over and away\",\n  wrongplace: \"should not be here\",\n  list: [\"jjhjssssh\", \"trtrtr\"],\n  truthy: true,\n  untruthy: \"kss\",\n  recursive: {\n    recursivething: \"hghghghg\",\n    recursivestr: 8,\n    recursive: {\n      recursivething: \"sdd\",\n      recursivestr: \"aaaa\"\n    }\n  }\n}\n\nlet modelObj2 = new mvc.model(obj2)\nlet modelObj3 = new mvc.model(obj3)\nlet modelController = new mvc.controller(modelObj2)\n\n\nmodelController.update = function(model) {\n  switch (this.type) {\n    case \"model\":\n      console.log(\"model update (set in controller)\")\n      break;\n    case \"collection\":\n      console.log(\"collection update (set in controller)\")\n      break;\n  }\n}\n\nmodelController.add = function(model) {\n  switch (this.type) {\n    case \"model\":\n      console.log(\"model added (set in controller)\")\n      break;\n    case \"collection\":\n      console.log(\"collection added (set in controller)\")\n      break;\n  }\n}\n\nmodelController.remove = function(model) {\n  switch (this.type) {\n    case \"model\":\n      console.log(\"model removed (set in controller)\")\n      break;\n    case \"collection\":\n      console.log(\"collection removed (set in controller)\")\n      break;\n  }\n}\n\nlet collectionObj = new mvc.collection(null, data)\n/*let controller2 = new mvc.controller(collectionObj)\n\ncontroller2.add = function(model) {\n  switch (this.type) {\n    case \"model\":\n      console.log(\"model add (set in controller)\")\n      break;\n    case \"collection\":\n      console.log(\"collection add (set in controller)\")\n      //console.log(model)\n      break;\n  }\n}\ncontroller2.update = function(model) {\n  switch (this.type) {\n    case \"model\":\n      console.log(\"model update (set in controller)\")\n      //console.log(model.obj)\n      break;\n    case \"collection\":\n      console.log(\"collection update (set in controller)\")\n      //console.log(model.obj)\n      //console.log(model.obj);\n      //console.log(this.obj)\n      break;\n  }\n}\ncontroller2.remove = function(model) {\n  switch (this.type) {\n    case \"model\":\n      console.log(\"model remove (set in controller)\")\n      break;\n    case \"collection\":\n      console.log(\"collection remove (set in controller)\")\n      break;\n  }\n}\n\ncontroller2.detach = function(model) {\n  switch (this.type) {\n    case \"model\":\n      console.log(\"model detach (set in controller)\")\n      break;\n    case \"collection\":\n      console.log(\"Model: \" + model.id + \" removed from collection: \" + this.obj.id)\n      break;\n  }\n}\n\ncollectionObj.add(modelObj2)\ncollectionObj.add(modelObj3)\n*/\n\nlet updateObj = {\n  fruit: \"orange\",\n  name: \"bob\",\n  recursive: {\n    recursivething: \"fflah\",\n    recursivestr: 2,\n    recursive: {\n      recursivestr: \"dsfffd\"\n    }\n  }\n}\n\nlet removeObj = {\n  fruit: false,\n  recursive: {\n    recursivething: false,\n    recursive: {\n      recursivestr: false\n    }\n  }\n}\n\nlet query = {\n  name: \"bob\",\n  recursive: {\n    recursivething: \"fflah\",\n    recursivestr: 3\n  }\n}\n\nlet detachQuery = {\n  fruit: \"orange\"\n}\n\ncollectionObj.update(updateObj)\ncollectionObj.update(updateObj, query)\ncollectionObj.remove(removeObj)\ncollectionObj.detach()\ncollectionObj.findAndDetach(detachQuery)\ncollectionObj.update(updateObj)\ncollectionObj.destroyCollection()\ncollectionObj.load()\ncollectionObj.save()\n\n\nmodelObj2.update({\n  list: [\"jjhjh\", \"jjddddhjh\", \"trtjrtr\", \"gfgfgfffgf\"],\n  fruit: \"apple\",\n  name: \"jim\",\n  more: {\n    thing: \"no\",\n    otherthing: \"kaaakj\",\n    newthing: \"jsjsj\",\n    list: [\"more jjhjh\", \"more trtrtr\"]\n  }\n})\n\nmodelObj2.update({\n  fruit: \"orange\",\n  name: \"bob\",\n  recursive: {\n    recursivething: \"fflah\",\n    recursivestr: 2,\n    recursive: {\n      recursivestr: \"dsfffd\"\n    }\n  }\n})\n\n\n\nmodelObj2.remove()\nmodelObj2.destroy()\nmodelObj2.load()\nmodelObj2.save()\n\nwindow.addEventListener('load', function() {\n  //alert(\"It's loaded!\")\n\n  el = document.getElementById(\"viewdemo\")\n  elForm = document.getElementById(\"viewdemoform\")\n  //console.log(el)\n\n  if (el) {\n    let view = new mvc.view(el, modelController)\n    let view2 = new mvc.view(elForm, modelController)\n  }\n\n  modelObj2.update({\n    list: [\"jjhjh\", \"jjddddhjh\", \"trtjrtr\", \"gfgfgfffgf\"],\n    fruit: \"apple\",\n    name: \"jim\",\n    more: {\n      thing: \"no\",\n      otherthing: \"kaaakj\",\n      newthing: \"jsjsj\",\n      list: [\"more jjhjh\", \"more trtrtr\"]\n    }\n  })\n\n})\n//console.log(collectionObj.models())\n"]}